[YouTube Video](https://youtu.be/pz1MYpZ93UA)


[okay I think it's about time we are](https://youtu.be/pz1MYpZ93UA?t=00h04m44s)



[going to get going so for anybody](https://youtu.be/pz1MYpZ93UA?t=00h04m47s)



[jumping on expecting to see material](https://youtu.be/pz1MYpZ93UA?t=00h04m49s)



[design in zamel taking a break from that](https://youtu.be/pz1MYpZ93UA?t=00h04m52s)



[tonight to go play on a library called](https://youtu.be/pz1MYpZ93UA?t=00h04m55s)



[system command line so just a brief](https://youtu.be/pz1MYpZ93UA?t=00h04m58s)



[history for those people who are](https://youtu.be/pz1MYpZ93UA?t=00h05m02s)



[unfamiliar with it system command line](https://youtu.be/pz1MYpZ93UA?t=00h05m03s)



[is an open source project being backed](https://youtu.be/pz1MYpZ93UA?t=00h05m05s)



[by some Microsoft folks who are](https://youtu.be/pz1MYpZ93UA?t=00h05m08s)



[interested in seeing a better](https://youtu.be/pz1MYpZ93UA?t=00h05m11s)



[command-line library so it handles](https://youtu.be/pz1MYpZ93UA?t=00h05m13s)



[parsing of your command-line arguments](https://youtu.be/pz1MYpZ93UA?t=00h05m15s)



[it handles invocation and there's even a](https://youtu.be/pz1MYpZ93UA?t=00h05m18s)



[rendering portion of it as well the more](https://youtu.be/pz1MYpZ93UA?t=00h05m20s)



[interesting portion of it is called](https://youtu.be/pz1MYpZ93UA?t=00h05m23s)



[there's a library that still kind of to](https://youtu.be/pz1MYpZ93UA?t=00h05m25s)



[be determined to be named that has been](https://youtu.be/pz1MYpZ93UA?t=00h05m28s)



[called system command-line dragonfruit](https://youtu.be/pz1MYpZ93UA?t=00h05m31s)



[and that's kind of where our saga starts](https://youtu.be/pz1MYpZ93UA?t=00h05m33s)



[tonight so I'm going to flip over to](https://youtu.be/pz1MYpZ93UA?t=00h05m36s)



[share my screen and I will I will catch](https://youtu.be/pz1MYpZ93UA?t=00h05m39s)



[everyone up to where we were at so this](https://youtu.be/pz1MYpZ93UA?t=00h05m44s)



[issue came in because system](https://youtu.be/pz1MYpZ93UA?t=00h05m47s)



[command-line dragonfruit lets you create](https://youtu.be/pz1MYpZ93UA?t=00h05m50s)



[strongly typed main methods so what that](https://youtu.be/pz1MYpZ93UA?t=00h05m52s)



[means let's let's jump over here and](https://youtu.be/pz1MYpZ93UA?t=00h05m55s)



[I'll show just a quick example from the](https://youtu.be/pz1MYpZ93UA?t=00h05m57s)



[wiki normally in a command-line](https://youtu.be/pz1MYpZ93UA?t=00h05m59s)



[application you type your standard](https://youtu.be/pz1MYpZ93UA?t=00h06m02s)



[public static void main string args just](https://youtu.be/pz1MYpZ93UA?t=00h06m07s)



[like this it's fine the problem is is](https://youtu.be/pz1MYpZ93UA?t=00h06m12s)



[dealing with this string array can be](https://youtu.be/pz1MYpZ93UA?t=00h06m14s)



[far from trivial so what system](https://youtu.be/pz1MYpZ93UA?t=00h06m16s)



[command-line dragonfruit does is aims to](https://youtu.be/pz1MYpZ93UA?t=00h06m20s)



[make the the simple use case for](https://youtu.be/pz1MYpZ93UA?t=00h06m23s)



[command-line apps easier so rather than](https://youtu.be/pz1MYpZ93UA?t=00h06m24s)



[typing static void main string args it](https://youtu.be/pz1MYpZ93UA?t=00h06m27s)



[ends up being static void main](https://youtu.be/pz1MYpZ93UA?t=00h06m30s)



[and then you just declare your arguments](https://youtu.be/pz1MYpZ93UA?t=00h06m32s)



[in here and dragon fruits got all kinds](https://youtu.be/pz1MYpZ93UA?t=00h06m34s)



[of fancy bells and whistles to try to](https://youtu.be/pz1MYpZ93UA?t=00h06m37s)



[make this awesome](https://youtu.be/pz1MYpZ93UA?t=00h06m38s)



[by default it handles showing up version](https://youtu.be/pz1MYpZ93UA?t=00h06m40s)



[with - - version it handles generating](https://youtu.be/pz1MYpZ93UA?t=00h06m43s)



[help with - - help it even reads the xml](https://youtu.be/pz1MYpZ93UA?t=00h06m46s)



[docs](https://youtu.be/pz1MYpZ93UA?t=00h06m51s)



[if you've generated those for your help](https://youtu.be/pz1MYpZ93UA?t=00h06m51s)



[output so all of that works and it makes](https://youtu.be/pz1MYpZ93UA?t=00h06m53s)



[the at least the sort of the 80 or 90%](https://youtu.be/pz1MYpZ93UA?t=00h06m56s)



[case of what most people do with](https://youtu.be/pz1MYpZ93UA?t=00h07m00s)



[command-line apps really really easy so](https://youtu.be/pz1MYpZ93UA?t=00h07m01s)



[that you don't have to think about how](https://youtu.be/pz1MYpZ93UA?t=00h07m04s)



[do I go from this into the method where](https://youtu.be/pz1MYpZ93UA?t=00h07m06s)



[that's actually going to do the work it](https://youtu.be/pz1MYpZ93UA?t=00h07m10s)



[just jumps straight into the method](https://youtu.be/pz1MYpZ93UA?t=00h07m11s)



[that's actually going to start doing the](https://youtu.be/pz1MYpZ93UA?t=00h07m13s)



[work of your command line app so where](https://youtu.be/pz1MYpZ93UA?t=00h07m15s)



[that leaves us is Elin hasten hasten I](https://youtu.be/pz1MYpZ93UA?t=00h07m18s)



[apologize I'm probably butchering that](https://youtu.be/pz1MYpZ93UA?t=00h07m25s)



[name horrendously pointed out that](https://youtu.be/pz1MYpZ93UA?t=00h07m27s)



[dragon fruit is actually failing on](https://youtu.be/pz1MYpZ93UA?t=00h07m30s)



[slightly older MS builds I believe this](https://youtu.be/pz1MYpZ93UA?t=00h07m33s)



[is msbuild](https://youtu.be/pz1MYpZ93UA?t=00h07m36s)



[V 14 I think that's the Visual Studio](https://youtu.be/pz1MYpZ93UA?t=00h07m37s)



[2015 if I'm not mistaken and dotnet](https://youtu.be/pz1MYpZ93UA?t=00h07m40s)



[4-6-2 specifically calling out that it](https://youtu.be/pz1MYpZ93UA?t=00h07m43s)



[was the old project file format so if](https://youtu.be/pz1MYpZ93UA?t=00h07m45s)



[you edit your CSP tonnes of XML you're](https://youtu.be/pz1MYpZ93UA?t=00h07m47s)



[probably on the old CS proj the telltale](https://youtu.be/pz1MYpZ93UA?t=00h07m50s)



[sign is if you see that root level](https://youtu.be/pz1MYpZ93UA?t=00h07m53s)



[project tag if that has like XML](https://youtu.be/pz1MYpZ93UA?t=00h07m56s)



[namespace stuff in it and it's not just](https://youtu.be/pz1MYpZ93UA?t=00h07m59s)



[a straight tag by itself you're on the](https://youtu.be/pz1MYpZ93UA?t=00h08m01s)



[old CS project and so he pointed out](https://youtu.be/pz1MYpZ93UA?t=00h08m03s)



[that this guy was failing and so I I](https://youtu.be/pz1MYpZ93UA?t=00h08m06s)



[took a took a stab at trying to fix this](https://youtu.be/pz1MYpZ93UA?t=00h08m09s)



[and point it out one of the key problems](https://youtu.be/pz1MYpZ93UA?t=00h08m11s)



[is that dragonfruit generates an async](https://youtu.be/pz1MYpZ93UA?t=00h08m14s)



[main method so let's go look at that](https://youtu.be/pz1MYpZ93UA?t=00h08m16s)



[real quick so even though you write your](https://youtu.be/pz1MYpZ93UA?t=00h08m19s)



[normal main mat you write a method like](https://youtu.be/pz1MYpZ93UA?t=00h08m23s)



[this and it does support async mains so](https://youtu.be/pz1MYpZ93UA?t=00h08m25s)



[you can do the the return type of int](https://youtu.be/pz1MYpZ93UA?t=00h08m27s)



[and or tasks event depending on what you](https://youtu.be/pz1MYpZ93UA?t=00h08m30s)



[end up needing but let's look at how](https://youtu.be/pz1MYpZ93UA?t=00h08m33s)



[dragonfruit actually works so it's](https://youtu.be/pz1MYpZ93UA?t=00h08m37s)



[actually a fairly simple path to](https://youtu.be/pz1MYpZ93UA?t=00h08m40s)



[actually what am i doing I've got Visual](https://youtu.be/pz1MYpZ93UA?t=00h08m42s)



[Studio open let's go here instead so](https://youtu.be/pz1MYpZ93UA?t=00h08m43s)



[inside of dragon fruit there are some](https://youtu.be/pz1MYpZ93UA?t=00h08m46s)



[targets and props files and with nougat](https://youtu.be/pz1MYpZ93UA?t=00h08m49s)



[packages if you happen to create a](https://youtu.be/pz1MYpZ93UA?t=00h08m53s)



[target or a props file where the file](https://youtu.be/pz1MYpZ93UA?t=00h08m56s)



[name before the dot targets matches your](https://youtu.be/pz1MYpZ93UA?t=00h08m59s)



[nougat package ID these automatically](https://youtu.be/pz1MYpZ93UA?t=00h09m02s)



[get included with the project when the](https://youtu.be/pz1MYpZ93UA?t=00h09m04s)



[nougat gets installed which is great](https://youtu.be/pz1MYpZ93UA?t=00h09m07s)



[it gives you a nice injection point to](https://youtu.be/pz1MYpZ93UA?t=00h09m10s)



[be able to have your library do stuff so](https://youtu.be/pz1MYpZ93UA?t=00h09m11s)



[in this case dragonfruit injects this](https://youtu.be/pz1MYpZ93UA?t=00h09m14s)



[target so core generate dragon fruit](https://youtu.be/pz1MYpZ93UA?t=00h09m17s)



[program file currently we're only doing](https://youtu.be/pz1MYpZ93UA?t=00h09m20s)



[c-sharp there is an outstanding request](https://youtu.be/pz1MYpZ93UA?t=00h09m23s)



[if anybody wants to do Visual Basic as](https://youtu.be/pz1MYpZ93UA?t=00h09m25s)



[well but then more importantly it goes](https://youtu.be/pz1MYpZ93UA?t=00h09m27s)



[through and it just generates this file](https://youtu.be/pz1MYpZ93UA?t=00h09m31s)



[it's nothing fancy public static async](https://youtu.be/pz1MYpZ93UA?t=00h09m33s)



[task int of main and then it calls this](https://youtu.be/pz1MYpZ93UA?t=00h09m37s)



[execute assembly async which is great](https://youtu.be/pz1MYpZ93UA?t=00h09m40s)



[it's an asynchronous method and this all](https://youtu.be/pz1MYpZ93UA?t=00h09m43s)



[works and the problem is is right now](https://youtu.be/pz1MYpZ93UA?t=00h09m45s)



[this is using the new CS proj format and](https://youtu.be/pz1MYpZ93UA?t=00h09m48s)



[so it needs to be updated to support the](https://youtu.be/pz1MYpZ93UA?t=00h09m50s)



[old CS proj format for anybody working](https://youtu.be/pz1MYpZ93UA?t=00h09m52s)



[with maybe it's still stuck in Visual](https://youtu.be/pz1MYpZ93UA?t=00h09m55s)



[Studio 2015 who wants to take advantage](https://youtu.be/pz1MYpZ93UA?t=00h09m57s)



[of dragon fruit the problem is is just](https://youtu.be/pz1MYpZ93UA?t=00h09m59s)



[updating this isn't quite good enough](https://youtu.be/pz1MYpZ93UA?t=00h10m03s)



[because once we update the targets file](https://youtu.be/pz1MYpZ93UA?t=00h10m05s)



[to support the old CS proj format we now](https://youtu.be/pz1MYpZ93UA?t=00h10m08s)



[have the problem of targeting the old](https://youtu.be/pz1MYpZ93UA?t=00h10m11s)



[dotnet framework 4-6-2 doesn't allow](https://youtu.be/pz1MYpZ93UA?t=00h10m13s)



[asynchronous mains specifically and I](https://youtu.be/pz1MYpZ93UA?t=00h10m18s)



[should say dotnet framework 462 using](https://youtu.be/pz1MYpZ93UA?t=00h10m22s)



[the older compiler doesn't support](https://youtu.be/pz1MYpZ93UA?t=00h10m25s)



[asynchronous main methods which is a](https://youtu.be/pz1MYpZ93UA?t=00h10m27s)



[problem so now this whole method needs](https://youtu.be/pz1MYpZ93UA?t=00h10m29s)



[to change to support synchronous okay we](https://youtu.be/pz1MYpZ93UA?t=00h10m32s)



[can do that so when targeting the old CS](https://youtu.be/pz1MYpZ93UA?t=00h10m37s)



[proj mirin doing an asynchronous main we](https://youtu.be/pz1MYpZ93UA?t=00h10m39s)



[generate an old main method like you](https://youtu.be/pz1MYpZ93UA?t=00h10m41s)



[normally would the problem is is](https://youtu.be/pz1MYpZ93UA?t=00h10m43s)



[everything all the way down starting](https://youtu.be/pz1MYpZ93UA?t=00h10m45s)



[from this execute assembly async so](https://youtu.be/pz1MYpZ93UA?t=00h10m47s)



[let's just jump to that real quick](https://youtu.be/pz1MYpZ93UA?t=00h10m49s)



[didja to do why is my our sharpers](https://youtu.be/pz1MYpZ93UA?t=00h10m52s)



[disabled one second let's refire this up](https://youtu.be/pz1MYpZ93UA?t=00h11m00s)



[resharper should not be disabled](https://youtu.be/pz1MYpZ93UA?t=00h11m03s)



[I was mucking around with a bunch of my](https://youtu.be/pz1MYpZ93UA?t=00h11m05s)



[settings earlier and I suspect I had too](https://youtu.be/pz1MYpZ93UA?t=00h11m09s)



[many visual studios open and I just need](https://youtu.be/pz1MYpZ93UA?t=00h11m12s)



[to close everything down and relaunch](https://youtu.be/pz1MYpZ93UA?t=00h11m14s)



[because unfortunately when you modify](https://youtu.be/pz1MYpZ93UA?t=00h11m18s)



[registry settings and](https://youtu.be/pz1MYpZ93UA?t=00h11m22s)



[they're weird things to try to get your](https://youtu.be/pz1MYpZ93UA?t=00h11m23s)



[profile stuff working occasionally you](https://youtu.be/pz1MYpZ93UA?t=00h11m25s)



[break stuff and I think it just needs a](https://youtu.be/pz1MYpZ93UA?t=00h11m28s)



[good solid kick but working through this](https://youtu.be/pz1MYpZ93UA?t=00h11m31s)



[so it calls into an asynchronous method](https://youtu.be/pz1MYpZ93UA?t=00h11m37s)



[and the problem with our sensei problem](https://youtu.be/pz1MYpZ93UA?t=00h11m40s)



[the what ends up happening when you're](https://youtu.be/pz1MYpZ93UA?t=00h11m42s)



[working with async methods inside of](https://youtu.be/pz1MYpZ93UA?t=00h11m45s)



[c-sharp is that it really ends up being](https://youtu.be/pz1MYpZ93UA?t=00h11m47s)



[a sink all the way down so if you've got](https://youtu.be/pz1MYpZ93UA?t=00h11m49s)



[an async task method everything that](https://youtu.be/pz1MYpZ93UA?t=00h11m52s)



[call that really should be a waiting on](https://youtu.be/pz1MYpZ93UA?t=00h11m56s)



[that and so you get an async task method](https://youtu.be/pz1MYpZ93UA?t=00h11m57s)



[who's invoking it and it works its way](https://youtu.be/pz1MYpZ93UA?t=00h12m00s)



[up there is technically a sink void](https://youtu.be/pz1MYpZ93UA?t=00h12m02s)



[however a sink void should be avoided in](https://youtu.be/pz1MYpZ93UA?t=00h12m04s)



[almost all circumstances the one](https://youtu.be/pz1MYpZ93UA?t=00h12m07s)



[exception is top-level event handler so](https://youtu.be/pz1MYpZ93UA?t=00h12m09s)



[for people who have seen me do WPF if](https://youtu.be/pz1MYpZ93UA?t=00h12m12s)



[you say you have a click handler on a](https://youtu.be/pz1MYpZ93UA?t=00h12m15s)



[button that needs to invoke an async](https://youtu.be/pz1MYpZ93UA?t=00h12m17s)



[method that's an acceptable case where](https://youtu.be/pz1MYpZ93UA?t=00h12m19s)



[it's okay to use async void I also](https://youtu.be/pz1MYpZ93UA?t=00h12m21s)



[personally extend that to mean async](https://youtu.be/pz1MYpZ93UA?t=00h12m24s)



[void is acceptable for command execute](https://youtu.be/pz1MYpZ93UA?t=00h12m27s)



[methods as well because those are](https://youtu.be/pz1MYpZ93UA?t=00h12m31s)



[effectively top-level event handlers but](https://youtu.be/pz1MYpZ93UA?t=00h12m32s)



[they're there there is some I won't say](https://youtu.be/pz1MYpZ93UA?t=00h12m35s)



[that's a universally held opinion let's](https://youtu.be/pz1MYpZ93UA?t=00h12m39s)



[just put it that way ok there we go](https://youtu.be/pz1MYpZ93UA?t=00h12m41s)



[resharper cause Visual Studio hang on](https://youtu.be/pz1MYpZ93UA?t=00h12m45s)



[launch that sounds more right ok so](https://youtu.be/pz1MYpZ93UA?t=00h12m48s)



[let's go find this method here real](https://youtu.be/pz1MYpZ93UA?t=00h12m51s)



[quick and we will come on come on what's](https://youtu.be/pz1MYpZ93UA?t=00h12m53s)



[going on resharper you've lost your mind](https://youtu.be/pz1MYpZ93UA?t=00h13m00s)



[you still think you're disabled nope if](https://youtu.be/pz1MYpZ93UA?t=00h13m03s)



[I heard yourself out](https://youtu.be/pz1MYpZ93UA?t=00h13m07s)



[why do I not have my navigate methods](https://youtu.be/pz1MYpZ93UA?t=00h13m11s)



[what is going on this might be a quick](https://youtu.be/pz1MYpZ93UA?t=00h13m14s)



[detour or well you reset environments](https://youtu.be/pz1MYpZ93UA?t=00h13m17s)



[though it seems like it's still figuring](https://youtu.be/pz1MYpZ93UA?t=00h13m20s)



[itself out so resharper might just need](https://youtu.be/pz1MYpZ93UA?t=00h13m22s)



[to be it might just be trying to process](https://youtu.be/pz1MYpZ93UA?t=00h13m24s)



[the whole file come on little buddy you](https://youtu.be/pz1MYpZ93UA?t=00h13m27s)



[can do this you can do it it is](https://youtu.be/pz1MYpZ93UA?t=00h13m31s)



[important to make sure that you always](https://youtu.be/pz1MYpZ93UA?t=00h13m34s)



[talk to your visual studio](https://youtu.be/pz1MYpZ93UA?t=00h13m36s)



[hey mr. demon wolf unfortunately this](https://youtu.be/pz1MYpZ93UA?t=00h13m38s)



[does tend to happen to me from time to](https://youtu.be/pz1MYpZ93UA?t=00h13m42s)



[time especially I have an odd habit of](https://youtu.be/pz1MYpZ93UA?t=00h13m44s)



[getting my visual studio profiles in all](https://youtu.be/pz1MYpZ93UA?t=00h13m47s)



[sorts of bad states and so I tend to](https://youtu.be/pz1MYpZ93UA?t=00h13m51s)



[just occasionally reset pull the plug](https://youtu.be/pz1MYpZ93UA?t=00h13m53s)



[and wipe and redo everything so the fact](https://youtu.be/pz1MYpZ93UA?t=00h13m56s)



[that this little circle is sitting here](https://youtu.be/pz1MYpZ93UA?t=00h14m01s)



[is sort of what I'm waiting on for it to](https://youtu.be/pz1MYpZ93UA?t=00h14m02s)



[catch up yeah I understand okay there we](https://youtu.be/pz1MYpZ93UA?t=00h14m05s)



[go](https://youtu.be/pz1MYpZ93UA?t=00h14m12s)



[that took way too long execute assembly](https://youtu.be/pz1MYpZ93UA?t=00h14m12s)



[async go go go go go yeah I do tend to](https://youtu.be/pz1MYpZ93UA?t=00h14m15s)



[jump into vs code quite a bit myself](https://youtu.be/pz1MYpZ93UA?t=00h14m21s)



[there's a if you go and find the](https://youtu.be/pz1MYpZ93UA?t=00h14m23s)



[previous streamed that I did on system](https://youtu.be/pz1MYpZ93UA?t=00h14m27s)



[command line with John I think it's like](https://youtu.be/pz1MYpZ93UA?t=00h14m30s)



[about an hour and a half hour 42 in he](https://youtu.be/pz1MYpZ93UA?t=00h14m34s)



[shows a pretty slick setup that he has](https://youtu.be/pz1MYpZ93UA?t=00h14m38s)



[for toggling out of visual studio into](https://youtu.be/pz1MYpZ93UA?t=00h14m41s)



[vs code keeping the cursor at the same](https://youtu.be/pz1MYpZ93UA?t=00h14m43s)



[position so that he can take advantage](https://youtu.be/pz1MYpZ93UA?t=00h14m47s)



[of the multiple cursor support in vs](https://youtu.be/pz1MYpZ93UA?t=00h14m48s)



[code which is always a clever trick I](https://youtu.be/pz1MYpZ93UA?t=00h14m50s)



[need to go through I had it set up on](https://youtu.be/pz1MYpZ93UA?t=00h14m54s)



[mine and then once again reset my](https://youtu.be/pz1MYpZ93UA?t=00h14m56s)



[profile and yeah nita set it back up](https://youtu.be/pz1MYpZ93UA?t=00h14m58s)



[again okay so back so back to the](https://youtu.be/pz1MYpZ93UA?t=00h15m01s)



[problem so if we were to go through and](https://youtu.be/pz1MYpZ93UA?t=00h15m05s)



[generate a synchronous main method we](https://youtu.be/pz1MYpZ93UA?t=00h15m08s)



[now now have the problem of we have this](https://youtu.be/pz1MYpZ93UA?t=00h15m09s)



[execute assembly async and now we have](https://youtu.be/pz1MYpZ93UA?t=00h15m12s)



[async although all the way down and](https://youtu.be/pz1MYpZ93UA?t=00h15m15s)



[basically async throughout the rest of](https://youtu.be/pz1MYpZ93UA?t=00h15m17s)



[this library so this is still](https://youtu.be/pz1MYpZ93UA?t=00h15m19s)



[technically up in system command-line](https://youtu.be/pz1MYpZ93UA?t=00h15m21s)



[dragonfruit land](https://youtu.be/pz1MYpZ93UA?t=00h15m23s)



[but ultimately if we follow these](https://youtu.be/pz1MYpZ93UA?t=00h15m24s)



[methods all the way down we'll end up](https://youtu.be/pz1MYpZ93UA?t=00h15m26s)



[down in the regular system command-line](https://youtu.be/pz1MYpZ93UA?t=00h15m30s)



[core library with all of its extra stuff](https://youtu.be/pz1MYpZ93UA?t=00h15m33s)



[so ultimately what we need to do is just](https://youtu.be/pz1MYpZ93UA?t=00h15m36s)



[jump back over here](https://youtu.be/pz1MYpZ93UA?t=00h15m41s)



[there was a second request that came in](https://youtu.be/pz1MYpZ93UA?t=00h15m43s)



[about the parser invoke async forces](https://youtu.be/pz1MYpZ93UA?t=00h15m45s)



[everyone into the asynchronous pattern](https://youtu.be/pz1MYpZ93UA?t=00h15m49s)



[which is normally fine except for there](https://youtu.be/pz1MYpZ93UA?t=00h15m51s)



[are plenty of use cases where maybe you](https://youtu.be/pz1MYpZ93UA?t=00h15m54s)



[aren't in an async method or you're not](https://youtu.be/pz1MYpZ93UA?t=00h15m56s)



[in a system that allows for easy async](https://youtu.be/pz1MYpZ93UA?t=00h15m59s)



[so then what do you do and so the plan](https://youtu.be/pz1MYpZ93UA?t=00h16m01s)



[at some point was to go through and add](https://youtu.be/pz1MYpZ93UA?t=00h16m04s)



[a synchronous overload well that plan](https://youtu.be/pz1MYpZ93UA?t=00h16m07s)



[now gets to be realized tonight the the](https://youtu.be/pz1MYpZ93UA?t=00h16m10s)



[problem is is there's only so many ways](https://youtu.be/pz1MYpZ93UA?t=00h16m14s)



[to go through and actually do sync over](https://youtu.be/pz1MYpZ93UA?t=00h16m16s)



[a sink and so I'm gonna share a couple](https://youtu.be/pz1MYpZ93UA?t=00h16m19s)



[links in chat these are two articles](https://youtu.be/pz1MYpZ93UA?t=00h16m22s)



[from Stephen Tao - I hope I'm not](https://youtu.be/pz1MYpZ93UA?t=00h16m27s)



[butchering that too badly and no the](https://youtu.be/pz1MYpZ93UA?t=00h16m30s)



[these are two separate links so](https://youtu.be/pz1MYpZ93UA?t=00h16m34s)



[asynchronous wrappers over synchronous](https://youtu.be/pz1MYpZ93UA?t=00h16m37s)



[and then the inverse of synchronous](https://youtu.be/pz1MYpZ93UA?t=00h16m39s)



[wrappers over asynchronous methods so](https://youtu.be/pz1MYpZ93UA?t=00h16m41s)



[this this one here is actually the case](https://youtu.be/pz1MYpZ93UA?t=00h16m44s)



[that we find ourselves in however these](https://youtu.be/pz1MYpZ93UA?t=00h16m46s)



[are very complementary articles and very](https://youtu.be/pz1MYpZ93UA?t=00h16m48s)



[worthwhile reading if you find yourself](https://youtu.be/pz1MYpZ93UA?t=00h16m51s)



[needing to do or I should say combining](https://youtu.be/pz1MYpZ93UA?t=00h16m52s)



[async and synchronous methods so this is](https://youtu.be/pz1MYpZ93UA?t=00h16m55s)



[the case that we find ourselves in and](https://youtu.be/pz1MYpZ93UA?t=00h17m00s)



[the the too long didn't read version of](https://youtu.be/pz1MYpZ93UA?t=00h17m02s)



[this is there's not a great way of going](https://youtu.be/pz1MYpZ93UA?t=00h17m06s)



[back and forth effectively there's a](https://youtu.be/pz1MYpZ93UA?t=00h17m10s)



[couple cheater options which we're going](https://youtu.be/pz1MYpZ93UA?t=00h17m12s)



[to end up needing one of them a little](https://youtu.be/pz1MYpZ93UA?t=00h17m14s)



[later down in this what if I really do](https://youtu.be/pz1MYpZ93UA?t=00h17m16s)



[need synchronous ink over a sink which](https://youtu.be/pz1MYpZ93UA?t=00h17m20s)



[is effectively what we're going to run](https://youtu.be/pz1MYpZ93UA?t=00h17m22s)



[into but in most cases the correct](https://youtu.be/pz1MYpZ93UA?t=00h17m24s)



[solution is async all the way down which](https://youtu.be/pz1MYpZ93UA?t=00h17m26s)



[means effectively having two versions of](https://youtu.be/pz1MYpZ93UA?t=00h17m29s)



[your method now in c-sharp this ends up](https://youtu.be/pz1MYpZ93UA?t=00h17m33s)



[looking really weird because you end up](https://youtu.be/pz1MYpZ93UA?t=00h17m35s)



[with two](https://youtu.be/pz1MYpZ93UA?t=00h17m37s)



[it's that are almost identical with a](https://youtu.be/pz1MYpZ93UA?t=00h17m38s)



[few minor exceptions where you drop like](https://youtu.be/pz1MYpZ93UA?t=00h17m40s)



[the words a weight and a sink out of the](https://youtu.be/pz1MYpZ93UA?t=00h17m42s)



[method but other than that the code is](https://youtu.be/pz1MYpZ93UA?t=00h17m45s)



[effectively the same which is really](https://youtu.be/pz1MYpZ93UA?t=00h17m47s)



[kind of frustrating and from a lot of us](https://youtu.be/pz1MYpZ93UA?t=00h17m50s)



[programmers we we get this whole dry](https://youtu.be/pz1MYpZ93UA?t=00h17m53s)



[mentality stuck in our head of do not](https://youtu.be/pz1MYpZ93UA?t=00h17m55s)



[repeat yourself](https://youtu.be/pz1MYpZ93UA?t=00h17m57s)



[do not repeat yourself and it looks a](https://youtu.be/pz1MYpZ93UA?t=00h17m58s)



[whole lot like we're repeating ourselves](https://youtu.be/pz1MYpZ93UA?t=00h18m00s)



[so we'll do our best to not I should say](https://youtu.be/pz1MYpZ93UA?t=00h18m02s)



[not necessarily repeat ourselves too](https://youtu.be/pz1MYpZ93UA?t=00h18m07s)



[much but there is going to be a little](https://youtu.be/pz1MYpZ93UA?t=00h18m10s)



[bit of copy and paste code or as I'll](https://youtu.be/pz1MYpZ93UA?t=00h18m14s)



[call it editor inheritance so so going](https://youtu.be/pz1MYpZ93UA?t=00h18m15s)



[down that just as a little bit more of](https://youtu.be/pz1MYpZ93UA?t=00h18m20s)



[an explanation so there's a fundamental](https://youtu.be/pz1MYpZ93UA?t=00h18m22s)



[change that happens when you make an](https://youtu.be/pz1MYpZ93UA?t=00h18m24s)



[async method even though the c-sharp](https://youtu.be/pz1MYpZ93UA?t=00h18m27s)



[looks the same the actual compiled il is](https://youtu.be/pz1MYpZ93UA?t=00h18m29s)



[very very different and that's](https://youtu.be/pz1MYpZ93UA?t=00h18m32s)



[fundamentally why you end up needing to](https://youtu.be/pz1MYpZ93UA?t=00h18m34s)



[create two versions of your API so we](https://youtu.be/pz1MYpZ93UA?t=00h18m37s)



[are going to effectively start as though](https://youtu.be/pz1MYpZ93UA?t=00h18m41s)



[we were going to write this and we're](https://youtu.be/pz1MYpZ93UA?t=00h18m44s)



[just going to follow this all the way](https://youtu.be/pz1MYpZ93UA?t=00h18m45s)



[down and I think for now in the interest](https://youtu.be/pz1MYpZ93UA?t=00h18m47s)



[of speed we're just going to start from](https://youtu.be/pz1MYpZ93UA?t=00h18m50s)



[here create a synchronous version and](https://youtu.be/pz1MYpZ93UA?t=00h18m54s)



[then just chase the rabbit all the way](https://youtu.be/pz1MYpZ93UA?t=00h18m58s)



[down the hole as it were so that there](https://youtu.be/pz1MYpZ93UA?t=00h19m01s)



[are effectively two versions of this so](https://youtu.be/pz1MYpZ93UA?t=00h19m04s)



[we are going to drop a sync from the](https://youtu.be/pz1MYpZ93UA?t=00h19m06s)



[name change the return type 2-inch drop](https://youtu.be/pz1MYpZ93UA?t=00h19m10s)



[the async keyword which means we can no](https://youtu.be/pz1MYpZ93UA?t=00h19m14s)



[longer await this method which means we](https://youtu.be/pz1MYpZ93UA?t=00h19m16s)



[need invoke method not async so and we](https://youtu.be/pz1MYpZ93UA?t=00h19m19s)



[are going to just follow this all the](https://youtu.be/pz1MYpZ93UA?t=00h19m24s)



[way down so jump to here and yeah](https://youtu.be/pz1MYpZ93UA?t=00h19m26s)



[resharper is thinking I'm very familiar](https://youtu.be/pz1MYpZ93UA?t=00h19m32s)



[with that concept oh and it's literally](https://youtu.be/pz1MYpZ93UA?t=00h19m33s)



[right below me so we are gonna copy this](https://youtu.be/pz1MYpZ93UA?t=00h19m36s)



[guy and just keep going my plan is to](https://youtu.be/pz1MYpZ93UA?t=00h19m38s)



[come back through these methods and](https://youtu.be/pz1MYpZ93UA?t=00h19m42s)



[figure out how much of this code can be](https://youtu.be/pz1MYpZ93UA?t=00h19m44s)



[broken out and shared but at least for](https://youtu.be/pz1MYpZ93UA?t=00h19m46s)



[the purpose of figuring out what the](https://youtu.be/pz1MYpZ93UA?t=00h19m49s)



[scope of this is and sort of how much](https://youtu.be/pz1MYpZ93UA?t=00h19m51s)



[we're gonna end up falling through and](https://youtu.be/pz1MYpZ93UA?t=00h19m54s)



[needing to change we're just gonna start](https://youtu.be/pz1MYpZ93UA?t=00h19m56s)



[with a straight up copy and paste and](https://youtu.be/pz1MYpZ93UA?t=00h19m58s)



[work from there so this gets us down](https://youtu.be/pz1MYpZ93UA?t=00h20m00s)



[into the parser and vogue async which is](https://youtu.be/pz1MYpZ93UA?t=00h20m02s)



[what that second issue was commenting on](https://youtu.be/pz1MYpZ93UA?t=00h20m04s)



[this is effectively the point where](https://youtu.be/pz1MYpZ93UA?t=00h20m07s)



[we're switching from system command line](https://youtu.be/pz1MYpZ93UA?t=00h20m09s)



[dragonfruit into system command line](https://youtu.be/pz1MYpZ93UA?t=00h20m12s)



[core or proper or whatever we want to](https://youtu.be/pz1MYpZ93UA?t=00h20m14s)



[call it so this is effectively where we](https://youtu.be/pz1MYpZ93UA?t=00h20m18s)



[need to go so we are going to go in here](https://youtu.be/pz1MYpZ93UA?t=00h20m21s)



[and we probably actually are going to](https://youtu.be/pz1MYpZ93UA?t=00h20m23s)



[want to overload all of these yeah let's](https://youtu.be/pz1MYpZ93UA?t=00h20m28s)



[do them all let's thinking we might just](https://youtu.be/pz1MYpZ93UA?t=00h20m35s)



[pick on the one but it looks like a](https://youtu.be/pz1MYpZ93UA?t=00h20m37s)



[bunch of these overloads invoke other](https://youtu.be/pz1MYpZ93UA?t=00h20m38s)



[versions of the overloads](https://youtu.be/pz1MYpZ93UA?t=00h20m40s)



[so rather than selectively just picking](https://youtu.be/pz1MYpZ93UA?t=00h20m41s)



[a couple we're just gonna do them all so](https://youtu.be/pz1MYpZ93UA?t=00h20m46s)



[invoke this becomes task](https://youtu.be/pz1MYpZ93UA?t=00h20m51s)



[this becomes invocation pipeline invoke](https://youtu.be/pz1MYpZ93UA?t=00h20m56s)



[and let's just keep going so this](https://youtu.be/pz1MYpZ93UA?t=00h21m01s)



[becomes invoke async and this might be a](https://youtu.be/pz1MYpZ93UA?t=00h21m06s)



[bug here come back to this so there](https://youtu.be/pz1MYpZ93UA?t=00h21m09s)



[there's a general idea with stack traces](https://youtu.be/pz1MYpZ93UA?t=00h21m14s)



[that in general you don't necessarily](https://youtu.be/pz1MYpZ93UA?t=00h21m17s)



[always want to just straight-up return](https://youtu.be/pz1MYpZ93UA?t=00h21m19s)



[the tasks you always want to await it](https://youtu.be/pz1MYpZ93UA?t=00h21m22s)



[even if it ends up being a one-liner](https://youtu.be/pz1MYpZ93UA?t=00h21m23s)



[and I might have to look at that one](https://youtu.be/pz1MYpZ93UA?t=00h21m25s)



[more closely but in general you](https://youtu.be/pz1MYpZ93UA?t=00h21m27s)



[typically always want to wait your TAS](https://youtu.be/pz1MYpZ93UA?t=00h21m30s)



[so that goes to there that goes there](https://youtu.be/pz1MYpZ93UA?t=00h21m34s)



[let's see here and invoke there this](https://youtu.be/pz1MYpZ93UA?t=00h21m37s)



[becomes invoke I'm hoping when we get to](https://youtu.be/pz1MYpZ93UA?t=00h21m45s)



[this last overload it all just kind of](https://youtu.be/pz1MYpZ93UA?t=00h21m48s)



[falls out yeah see here's another](https://youtu.be/pz1MYpZ93UA?t=00h21m51s)



[situation where it wasn't awaiting the](https://youtu.be/pz1MYpZ93UA?t=00h21m54s)



[task it probably should be and it looks](https://youtu.be/pz1MYpZ93UA?t=00h21m56s)



[like both of these overloads are going](https://youtu.be/pz1MYpZ93UA?t=00h22m00s)



[to end up falling into invocation](https://youtu.be/pz1MYpZ93UA?t=00h22m05s)



[pipeline invoke async which is fine](https://youtu.be/pz1MYpZ93UA?t=00h22m07s)



[that's kind of where would you be ending](https://youtu.be/pz1MYpZ93UA?t=00h22m10s)



[up anyway okay you need to go not invoke](https://youtu.be/pz1MYpZ93UA?t=00h22m13s)



[async you need to be invoked](https://youtu.be/pz1MYpZ93UA?t=00h22m20s)



[you need to not be in a wait and let's](https://youtu.be/pz1MYpZ93UA?t=00h22m22s)



[see that leaves us just down to](https://youtu.be/pz1MYpZ93UA?t=00h22m26s)



[invocation pipeline invoke a sink needs](https://youtu.be/pz1MYpZ93UA?t=00h22m28s)



[to become straight-up invoke and this is](https://youtu.be/pz1MYpZ93UA?t=00h22m32s)



[where we're going to start to run into](https://youtu.be/pz1MYpZ93UA?t=00h22m36s)



[problems so in system command line](https://youtu.be/pz1MYpZ93UA?t=00h22m37s)



[there's an idea about commands options](https://youtu.be/pz1MYpZ93UA?t=00h22m40s)



[and arguments and there's there's a](https://youtu.be/pz1MYpZ93UA?t=00h22m46s)



[whole bunch of kind of terminology that](https://youtu.be/pz1MYpZ93UA?t=00h22m48s)



[goes along with it](https://youtu.be/pz1MYpZ93UA?t=00h22m49s)



[so over here let's just jump back I](https://youtu.be/pz1MYpZ93UA?t=00h22m50s)



[believe there was something about this](https://youtu.be/pz1MYpZ93UA?t=00h22m55s)



[in the wiki if I'm not mistaken and it](https://youtu.be/pz1MYpZ93UA?t=00h22m58s)



[could just be on the the root level page](https://youtu.be/pz1MYpZ93UA?t=00h23m01s)



[try it out contribute doo doo syntax](https://youtu.be/pz1MYpZ93UA?t=00h23m04s)



[concepts and parser so there's kind of a](https://youtu.be/pz1MYpZ93UA?t=00h23m09s)



[lot of stuff in here about what all of](https://youtu.be/pz1MYpZ93UA?t=00h23m12s)



[the terminology means and how this all](https://youtu.be/pz1MYpZ93UA?t=00h23m15s)



[breaks out but the key part that we're](https://youtu.be/pz1MYpZ93UA?t=00h23m17s)



[going to be interested in is commands](https://youtu.be/pz1MYpZ93UA?t=00h23m20s)



[and sub commands so for example on](https://youtu.be/pz1MYpZ93UA?t=00h23m22s)



[something like dot when you execute](https://youtu.be/pz1MYpZ93UA?t=00h23m25s)



[dotnet build for the purposes of how](https://youtu.be/pz1MYpZ93UA?t=00h23m26s)



[system command-line ends up parsing this](https://youtu.be/pz1MYpZ93UA?t=00h23m29s)



[dotnet is your route command build is](https://youtu.be/pz1MYpZ93UA?t=00h23m31s)



[your sub command and ultimately when](https://youtu.be/pz1MYpZ93UA?t=00h23m34s)



[you're doing a command line invocation](https://youtu.be/pz1MYpZ93UA?t=00h23m37s)



[you only invoke a single command at a](https://youtu.be/pz1MYpZ93UA?t=00h23m38s)



[time so in this case the the innermost](https://youtu.be/pz1MYpZ93UA?t=00h23m42s)



[sub command is the command that's going](https://youtu.be/pz1MYpZ93UA?t=00h23m45s)



[to get executed so in this case build](https://youtu.be/pz1MYpZ93UA?t=00h23m47s)



[would get executed or dotnet add package](https://youtu.be/pz1MYpZ93UA?t=00h23m49s)



[package is the innermost sub command so](https://youtu.be/pz1MYpZ93UA?t=00h23m53s)



[it's going to be the command that gets](https://youtu.be/pz1MYpZ93UA?t=00h23m57s)



[executed so for system command line](https://youtu.be/pz1MYpZ93UA?t=00h23m58s)



[there's this idea of being able to](https://youtu.be/pz1MYpZ93UA?t=00h24m01s)



[attach handler methods to each of those](https://youtu.be/pz1MYpZ93UA?t=00h24m02s)



[commands so when the command is invoked](https://youtu.be/pz1MYpZ93UA?t=00h24m05s)



[it goes through and will invoke your](https://youtu.be/pz1MYpZ93UA?t=00h24m08s)



[method for you and pass the appropriate](https://youtu.be/pz1MYpZ93UA?t=00h24m13s)



[options or various other things that](https://youtu.be/pz1MYpZ93UA?t=00h24m15s)



[might want and you can attach both](https://youtu.be/pz1MYpZ93UA?t=00h24m18s)



[synchronous and asynchronous methods as](https://youtu.be/pz1MYpZ93UA?t=00h24m22s)



[command handlers and it's perfectly](https://youtu.be/pz1MYpZ93UA?t=00h24m24s)



[happy to deal with that the problem is](https://youtu.be/pz1MYpZ93UA?t=00h24m26s)



[is now now we've run into this state](https://youtu.be/pz1MYpZ93UA?t=00h24m29s)



[where we've got an invoke method that's](https://youtu.be/pz1MYpZ93UA?t=00h24m31s)



[being called and if your command handler](https://youtu.be/pz1MYpZ93UA?t=00h24m33s)



[is async we're going to have to deal](https://youtu.be/pz1MYpZ93UA?t=00h24m36s)



[with that here so you'll note right here](https://youtu.be/pz1MYpZ93UA?t=00h24m38s)



[it goes through on the command result](https://youtu.be/pz1MYpZ93UA?t=00h24m40s)



[finds the command and grabs the handler](https://youtu.be/pz1MYpZ93UA?t=00h24m43s)



[off of it](https://youtu.be/pz1MYpZ93UA?t=00h24m46s)



[which is an I command Handler and then](https://youtu.be/pz1MYpZ93UA?t=00h24m46s)



[calls invoke async on it and I think](https://youtu.be/pz1MYpZ93UA?t=00h24m49s)



[this is where we're effectively gonna I](https://youtu.be/pz1MYpZ93UA?t=00h24m52s)



[think this is where we we have to call](https://youtu.be/pz1MYpZ93UA?t=00h24m55s)



[in the cheater methods so we want](https://youtu.be/pz1MYpZ93UA?t=00h24m57s)



[synchronous all the way down as far as](https://youtu.be/pz1MYpZ93UA?t=00h24m59s)



[it's possible however at a certain point](https://youtu.be/pz1MYpZ93UA?t=00h25m02s)



[it's no longer possible because this](https://youtu.be/pz1MYpZ93UA?t=00h25m04s)



[command handler is no longer going to be](https://youtu.be/pz1MYpZ93UA?t=00h25m07s)



[in our code it's going to be in the](https://youtu.be/pz1MYpZ93UA?t=00h25m10s)



[user's code of system command line and](https://youtu.be/pz1MYpZ93UA?t=00h25m12s)



[let's jump back over here so on this](https://youtu.be/pz1MYpZ93UA?t=00h25m15s)



[article from Stephen](https://youtu.be/pz1MYpZ93UA?t=00h25m20s)



[let's see offload to another thread this](https://youtu.be/pz1MYpZ93UA?t=00h25m25s)



[is the the key line right here of what](https://youtu.be/pz1MYpZ93UA?t=00h25m31s)



[we're looking for so in general you want](https://youtu.be/pz1MYpZ93UA?t=00h25m33s)



[to avoid dot result calls and I will](https://youtu.be/pz1MYpZ93UA?t=00h25m36s)



[leave it as an exercise to the reader](https://youtu.be/pz1MYpZ93UA?t=00h25m38s)



[but if you go through his article above](https://youtu.be/pz1MYpZ93UA?t=00h25m40s)



[he outlines why dot result is bad and](https://youtu.be/pz1MYpZ93UA?t=00h25m43s)



[how it can result in deadlock and](https://youtu.be/pz1MYpZ93UA?t=00h25m46s)



[performance problems so be aware if](https://youtu.be/pz1MYpZ93UA?t=00h25m48s)



[you're using dot result anywhere go back](https://youtu.be/pz1MYpZ93UA?t=00h25m50s)



[and double check your code you almost](https://youtu.be/pz1MYpZ93UA?t=00h25m52s)



[never want it the key trick here is the](https://youtu.be/pz1MYpZ93UA?t=00h25m53s)



[deadlock situation occurs because you](https://youtu.be/pz1MYpZ93UA?t=00h25m57s)



[don't necessarily know the execution](https://youtu.be/pz1MYpZ93UA?t=00h26m00s)



[context in which your method is being](https://youtu.be/pz1MYpZ93UA?t=00h26m02s)



[invoked so what does that mean some](https://youtu.be/pz1MYpZ93UA?t=00h26m04s)



[people may be familiar with the concept](https://youtu.be/pz1MYpZ93UA?t=00h26m08s)



[of thread local variables the idea that](https://youtu.be/pz1MYpZ93UA?t=00h26m10s)



[you can declare a variable and decorate](https://youtu.be/pz1MYpZ93UA?t=00h26m14s)



[it with the thread local attribute and](https://youtu.be/pz1MYpZ93UA?t=00h26m17s)



[for each thread that accesses that](https://youtu.be/pz1MYpZ93UA?t=00h26m19s)



[variable they effectively get their own](https://youtu.be/pz1MYpZ93UA?t=00h26m22s)



[instance or backing field as it were for](https://youtu.be/pz1MYpZ93UA?t=00h26m23s)



[for that variable when the TPL was](https://youtu.be/pz1MYpZ93UA?t=00h26m27s)



[introduced with the](https://youtu.be/pz1MYpZ93UA?t=00h26m30s)



[test parallel library there's an](https://youtu.be/pz1MYpZ93UA?t=00h26m32s)



[equivalent concept of a sink local where](https://youtu.be/pz1MYpZ93UA?t=00h26m34s)



[when you're looking at code so for](https://youtu.be/pz1MYpZ93UA?t=00h26m39s)



[example above and below this a weight](https://youtu.be/pz1MYpZ93UA?t=00h26m41s)



[could very easily be different threads](https://youtu.be/pz1MYpZ93UA?t=00h26m46s)



[that execute on it so thread-local is](https://youtu.be/pz1MYpZ93UA?t=00h26m50s)



[less than ideal however there is a](https://youtu.be/pz1MYpZ93UA?t=00h26m52s)



[concept of async local where the](https://youtu.be/pz1MYpZ93UA?t=00h26m54s)



[asynchronous context flows through from](https://youtu.be/pz1MYpZ93UA?t=00h26m57s)



[before and after the await so that](https://youtu.be/pz1MYpZ93UA?t=00h27m00s)



[there's some means of preserving](https://youtu.be/pz1MYpZ93UA?t=00h27m02s)



[variables and by doing this task run](https://youtu.be/pz1MYpZ93UA?t=00h27m03s)



[what this effectively does is forces](https://youtu.be/pz1MYpZ93UA?t=00h27m08s)



[this asynchronous method off onto a](https://youtu.be/pz1MYpZ93UA?t=00h27m11s)



[thread pool thread where we know we](https://youtu.be/pz1MYpZ93UA?t=00h27m14s)



[won't necessarily have an execution](https://youtu.be/pz1MYpZ93UA?t=00h27m16s)



[context to cause a deadlock and then](https://youtu.be/pz1MYpZ93UA?t=00h27m18s)



[call dot result on it now this is far](https://youtu.be/pz1MYpZ93UA?t=00h27m20s)



[from ideal but it gets us out of the](https://youtu.be/pz1MYpZ93UA?t=00h27m23s)



[scary deadlock situation because there](https://youtu.be/pz1MYpZ93UA?t=00h27m28s)



[won't be a synchronization context for](https://youtu.be/pz1MYpZ93UA?t=00h27m31s)



[it to sink back on and we should be able](https://youtu.be/pz1MYpZ93UA?t=00h27m32s)



[to run fine because system command line](https://youtu.be/pz1MYpZ93UA?t=00h27m36s)



[being a generic command line processor](https://youtu.be/pz1MYpZ93UA?t=00h27m38s)



[it could be used in a WPF application it](https://youtu.be/pz1MYpZ93UA?t=00h27m40s)



[could be used in asp net core](https://youtu.be/pz1MYpZ93UA?t=00h27m43s)



[application if somebody wanted to](https://youtu.be/pz1MYpZ93UA?t=00h27m45s)



[process those or just a straight-up CLI](https://youtu.be/pz1MYpZ93UA?t=00h27m47s)



[app so because we're acting kind of both](https://youtu.be/pz1MYpZ93UA?t=00h27m50s)



[as a library and a framework we have to](https://youtu.be/pz1MYpZ93UA?t=00h27m53s)



[try and be diligent to block or to](https://youtu.be/pz1MYpZ93UA?t=00h27m56s)



[prevent problems from occurring so I](https://youtu.be/pz1MYpZ93UA?t=00h28m00s)



[believe this is the trick that we want](https://youtu.be/pz1MYpZ93UA?t=00h28m02s)



[to deal with right about in here because](https://youtu.be/pz1MYpZ93UA?t=00h28m03s)



[we've got two places where we've got](https://youtu.be/pz1MYpZ93UA?t=00h28m09s)



[invocations happening so invocation](https://youtu.be/pz1MYpZ93UA?t=00h28m13s)



[chain and I'm just gonna have to dig](https://youtu.be/pz1MYpZ93UA?t=00h28m16s)



[through this forum instance it's been a](https://youtu.be/pz1MYpZ93UA?t=00h28m19s)



[little while since I looked at this one](https://youtu.be/pz1MYpZ93UA?t=00h28m20s)



[of these I believe is an asynchronous](https://youtu.be/pz1MYpZ93UA?t=00h28m24s)



[method and let me turn off my](https://youtu.be/pz1MYpZ93UA?t=00h28m26s)



[notifications so those stop pestering](https://youtu.be/pz1MYpZ93UA?t=00h28m28s)



[because I believe this method right here](https://youtu.be/pz1MYpZ93UA?t=00h28m33s)



[is where we want to do the task run](https://youtu.be/pz1MYpZ93UA?t=00h28m36s)



[cheater mode because again we wanted we](https://youtu.be/pz1MYpZ93UA?t=00h28m39s)



[want to avoid doing that cheater](https://youtu.be/pz1MYpZ93UA?t=00h28m42s)



[approach as long as possible](https://youtu.be/pz1MYpZ93UA?t=00h28m43s)



[and one of these so this adds in the](https://youtu.be/pz1MYpZ93UA?t=00h28m46s)



[invocation this one aggregates so if](https://youtu.be/pz1MYpZ93UA?t=00h28m49s)



[first second context next so each one](https://youtu.be/pz1MYpZ93UA?t=00h28m54s)



[calls the next one and then this passes](https://youtu.be/pz1MYpZ93UA?t=00h28m57s)



[it in invocation chain context task](https://youtu.be/pz1MYpZ93UA?t=00h29m01s)



[completed source so this guy was the one](https://youtu.be/pz1MYpZ93UA?t=00h29m06s)



[that was previously I think the problem](https://youtu.be/pz1MYpZ93UA?t=00h29m10s)



[is this bar here is making it really](https://youtu.be/pz1MYpZ93UA?t=00h29m14s)



[hard to see what's happening there it is](https://youtu.be/pz1MYpZ93UA?t=00h29m16s)



[so this guy is a task returning](https://youtu.be/pz1MYpZ93UA?t=00h29m22s)



[effectively an asynchronous method that](https://youtu.be/pz1MYpZ93UA?t=00h29m25s)



[right there is the crux of our problems](https://youtu.be/pz1MYpZ93UA?t=00h29m30s)



[so I think this is where we actually](https://youtu.be/pz1MYpZ93UA?t=00h29m33s)



[want to do it](https://youtu.be/pz1MYpZ93UA?t=00h29m36s)



[tasks run and I believe we just want to](https://youtu.be/pz1MYpZ93UA?t=00h29m40s)



[do this this here here I think we just](https://youtu.be/pz1MYpZ93UA?t=00h29m46s)



[want wait because I don't believe we](https://youtu.be/pz1MYpZ93UA?t=00h29m51s)



[care about the return this is](https://youtu.be/pz1MYpZ93UA?t=00h29m53s)



[effectively avoid returning asynchronous](https://youtu.be/pz1MYpZ93UA?t=00h29m54s)



[method we'll wait for it here we'll let](https://youtu.be/pz1MYpZ93UA?t=00h29m57s)



[this guy flow all the way through I](https://youtu.be/pz1MYpZ93UA?t=00h30m00s)



[think that gets us pretty close so now](https://youtu.be/pz1MYpZ93UA?t=00h30m04s)



[we've modified a bunch of stuff let's go](https://youtu.be/pz1MYpZ93UA?t=00h30m09s)



[through and I think what we're gonna try](https://youtu.be/pz1MYpZ93UA?t=00h30m13s)



[next is to fix up all the corresponding](https://youtu.be/pz1MYpZ93UA?t=00h30m15s)



[unit tests because I want to make sure I](https://youtu.be/pz1MYpZ93UA?t=00h30m19s)



[haven't broken anything in the process](https://youtu.be/pz1MYpZ93UA?t=00h30m22s)



[because we only modified a few files all](https://youtu.be/pz1MYpZ93UA?t=00h30m24s)



[the way down just take a look at exactly](https://youtu.be/pz1MYpZ93UA?t=00h30m26s)



[what it is one in dragonfruit invocation](https://youtu.be/pz1MYpZ93UA?t=00h30m29s)



[extensions and invocation pipeline and I](https://youtu.be/pz1MYpZ93UA?t=00h30m37s)



[suspect those might be unit tested in](https://youtu.be/pz1MYpZ93UA?t=00h30m40s)



[the same place let's take a look](https://youtu.be/pz1MYpZ93UA?t=00h30m43s)



[location location pipeline test and](https://youtu.be/pz1MYpZ93UA?t=00h30m49s)



[extensions tests this is almost](https://youtu.be/pz1MYpZ93UA?t=00h30m54s)



[assuredly where we want to go](https://youtu.be/pz1MYpZ93UA?t=00h30m56s)



[so I think let's see here so we have a](https://youtu.be/pz1MYpZ93UA?t=00h31m02s)



[command we have a description set on the](https://youtu.be/pz1MYpZ93UA?t=00h31m09s)



[command with some help text and when the](https://youtu.be/pz1MYpZ93UA?t=00h31m12s)



[command is invoked with - H we expect](https://youtu.be/pz1MYpZ93UA?t=00h31m15s)



[the help output to be generated or to be](https://youtu.be/pz1MYpZ93UA?t=00h31m20s)



[included in the output which is fine so](https://youtu.be/pz1MYpZ93UA?t=00h31m23s)



[I think I think we just start here and](https://youtu.be/pz1MYpZ93UA?t=00h31m26s)



[start cleaning some of this up so rather](https://youtu.be/pz1MYpZ93UA?t=00h31m36s)



[than invoke async start with the name](https://youtu.be/pz1MYpZ93UA?t=00h31m38s)



[and work our way down and we don't do](https://youtu.be/pz1MYpZ93UA?t=00h31m40s)



[invoke async we do invoke we no longer](https://youtu.be/pz1MYpZ93UA?t=00h31m43s)



[oh wait it just do that this is now a](https://youtu.be/pz1MYpZ93UA?t=00h31m48s)



[void returning method because it's no](https://youtu.be/pz1MYpZ93UA?t=00h31m51s)



[longer asynchronous and the way we go](https://youtu.be/pz1MYpZ93UA?t=00h31m56s)



[okay I think we can probably do that](https://youtu.be/pz1MYpZ93UA?t=00h31m59s)



[most of the way down it would be nice to](https://youtu.be/pz1MYpZ93UA?t=00h32m03s)



[share some of this code between these](https://youtu.be/pz1MYpZ93UA?t=00h32m13s)



[but I don't think there's an effective](https://youtu.be/pz1MYpZ93UA?t=00h32m16s)



[way to do that so this I'm gonna switch](https://youtu.be/pz1MYpZ93UA?t=00h32m19s)



[this off a bar because I don't think](https://youtu.be/pz1MYpZ93UA?t=00h32m24s)



[that's very intuitive that that's an](https://youtu.be/pz1MYpZ93UA?t=00h32m26s)



[intra turn root command VOC returning](https://youtu.be/pz1MYpZ93UA?t=00h32m29s)



[zero when command is invoked so we've](https://youtu.be/pz1MYpZ93UA?t=00h32m35s)



[got a root command we attach a handler](https://youtu.be/pz1MYpZ93UA?t=00h32m40s)



[to it this guy up an action delegate is](https://youtu.be/pz1MYpZ93UA?t=00h32m42s)



[worth noting to create these handlers on](https://youtu.be/pz1MYpZ93UA?t=00h32m49s)



[the commands this command handler class](https://youtu.be/pz1MYpZ93UA?t=00h32m51s)



[is the easiest way to go about doing it](https://youtu.be/pz1MYpZ93UA?t=00h32m56s)



[there are tons of overloads for various](https://youtu.be/pz1MYpZ93UA?t=00h32m58s)



[generic sets there currently the create](https://youtu.be/pz1MYpZ93UA?t=00h33m00s)



[is capped at seven generic parameters](https://youtu.be/pz1MYpZ93UA?t=00h33m05s)



[but it's worth knowing that you if you](https://youtu.be/pz1MYpZ93UA?t=00h33m08s)



[end up needing more than](https://youtu.be/pz1MYpZ93UA?t=00h33m10s)



[an alternative option is to just declare](https://youtu.be/pz1MYpZ93UA?t=00h33m12s)



[a poco and use that as the parameter and](https://youtu.be/pz1MYpZ93UA?t=00h33m14s)



[have it bind up there](https://youtu.be/pz1MYpZ93UA?t=00h33m18s)



[that's probably simpler so equivalent](https://youtu.be/pz1MYpZ93UA?t=00h33m19s)



[functions etc etc etc and get result](https://youtu.be/pz1MYpZ93UA?t=00h33m24s)



[code wondering if this is actually where](https://youtu.be/pz1MYpZ93UA?t=00h33m29s)



[we should change this because this got](https://youtu.be/pz1MYpZ93UA?t=00h33m36s)



[here](https://youtu.be/pz1MYpZ93UA?t=00h33m49s)



[you know I'm thinking we may want to](https://youtu.be/pz1MYpZ93UA?t=00h33m51s)



[change up this code just a little bit so](https://youtu.be/pz1MYpZ93UA?t=00h33m53s)



[rather than going through and doing this](https://youtu.be/pz1MYpZ93UA?t=00h34m00s)



[guy here I'm wondering if we should push](https://youtu.be/pz1MYpZ93UA?t=00h34m05s)



[this down a little bit further I'm](https://youtu.be/pz1MYpZ93UA?t=00h34m09s)



[thinking so I am thinking that is what](https://youtu.be/pz1MYpZ93UA?t=00h34m17s)



[we want to do so let's let's take this](https://youtu.be/pz1MYpZ93UA?t=00h34m20s)



[out because again we want to push this](https://youtu.be/pz1MYpZ93UA?t=00h34m23s)



[down as far as we can go which means](https://youtu.be/pz1MYpZ93UA?t=00h34m25s)



[this guy here invocation chain this well](https://youtu.be/pz1MYpZ93UA?t=00h34m29s)



[let's let's come back to let's come back](https://youtu.be/pz1MYpZ93UA?t=00h34m39s)



[to that in just a second so invoke async](https://youtu.be/pz1MYpZ93UA?t=00h34m43s)



[I think what we want is invoke like that](https://youtu.be/pz1MYpZ93UA?t=00h34m46s)



[like it's that much going handler invoke](https://youtu.be/pz1MYpZ93UA?t=00h34m59s)



[[Music]](https://youtu.be/pz1MYpZ93UA?t=00h35m04s)



[what are you squawking at before](https://youtu.be/pz1MYpZ93UA?t=00h35m06s)



[and natto copass terms of value well](https://youtu.be/pz1MYpZ93UA?t=00h35m15s)



[what are you expecting invocation](https://youtu.be/pz1MYpZ93UA?t=00h35m25s)



[middleware oh boy oh boy oh boy oh boy](https://youtu.be/pz1MYpZ93UA?t=00h35m28s)



[oh boy oh boy](https://youtu.be/pz1MYpZ93UA?t=00h35m35s)



[cuz this guy wants a task I think it's](https://youtu.be/pz1MYpZ93UA?t=00h35m36s)



[probably okay to just default that is](https://youtu.be/pz1MYpZ93UA?t=00h35m42s)



[that a change in behavior the problem is](https://youtu.be/pz1MYpZ93UA?t=00h35m52s)



[that means this guy is effectively to](https://youtu.be/pz1MYpZ93UA?t=00h36m00s)



[returning to TAS so](https://youtu.be/pz1MYpZ93UA?t=00h36m02s)



[how to handle this](https://youtu.be/pz1MYpZ93UA?t=00h36m17s)



[mmm I do not know I do not know well](https://youtu.be/pz1MYpZ93UA?t=00h36m26s)



[let's keep let's come back to that in a](https://youtu.be/pz1MYpZ93UA?t=00h36m31s)



[minute so because this is effectively](https://youtu.be/pz1MYpZ93UA?t=00h36m33s)



[our one spot where we do the invoke](https://youtu.be/pz1MYpZ93UA?t=00h36m35s)



[copy/paste again implement the sync](https://youtu.be/pz1MYpZ93UA?t=00h36m41s)



[version and then get result code sync](https://youtu.be/pz1MYpZ93UA?t=00h36m46s)



[it's going to become get result code so](https://youtu.be/pz1MYpZ93UA?t=00h36m55s)



[come in here and I think because here we](https://youtu.be/pz1MYpZ93UA?t=00h37m02s)



[can avoid having to do that extra task](https://youtu.be/pz1MYpZ93UA?t=00h37m05s)



[allocation so in the event that somebody](https://youtu.be/pz1MYpZ93UA?t=00h37m10s)



[has no asynchronous methods we don't](https://youtu.be/pz1MYpZ93UA?t=00h37m12s)



[necessarily need to do task allocations](https://youtu.be/pz1MYpZ93UA?t=00h37m16s)



[if unless the return type was a task I](https://youtu.be/pz1MYpZ93UA?t=00h37m20s)



[think this is where we want to go](https://youtu.be/pz1MYpZ93UA?t=00h37m30s)



[through and do it](https://youtu.be/pz1MYpZ93UA?t=00h37m32s)



[let's see same methods already declared](https://youtu.be/pz1MYpZ93UA?t=00h37m35s)



[didn't rename it properly let's go back](https://youtu.be/pz1MYpZ93UA?t=00h37m38s)



[here because that's effectively what we](https://youtu.be/pz1MYpZ93UA?t=00h37m42s)



[want here is we want to return let's see](https://youtu.be/pz1MYpZ93UA?t=00h37m49s)



[this is awaiting the task that's a](https://youtu.be/pz1MYpZ93UA?t=00h38m04s)



[problem though isn't it because we](https://youtu.be/pz1MYpZ93UA?t=00h38m12s)



[actually want to invoke that this invoke](https://youtu.be/pz1MYpZ93UA?t=00h38m16s)



[is what we want inside of that method](https://youtu.be/pz1MYpZ93UA?t=00h38m19s)



[I believe we can cheat this a little bit](https://youtu.be/pz1MYpZ93UA?t=00h38m37s)



[is that the same so let's think this guy](https://youtu.be/pz1MYpZ93UA?t=00h38m48s)



[all the way through and here we have](https://youtu.be/pz1MYpZ93UA?t=00h38m56s)



[just comment you out for the moment so](https://youtu.be/pz1MYpZ93UA?t=00h39m01s)



[you stops complaining so we in call](https://youtu.be/pz1MYpZ93UA?t=00h39m04s)



[dynamic invoke which will run through](https://youtu.be/pz1MYpZ93UA?t=00h39m08s)



[and return the task already started we](https://youtu.be/pz1MYpZ93UA?t=00h39m11s)



[call get result code on it a problem](https://youtu.be/pz1MYpZ93UA?t=00h39m17s)



[being that that is not quite the same](https://youtu.be/pz1MYpZ93UA?t=00h39m28s)



[fully sync will now be invoked on the](https://youtu.be/pz1MYpZ93UA?t=00h39m36s)



[thread pool](https://youtu.be/pz1MYpZ93UA?t=00h39m38s)



[which is the whole point of doing this](https://youtu.be/pz1MYpZ93UA?t=00h39m46s)



[so we need to do something slightly](https://youtu.be/pz1MYpZ93UA?t=00h39m50s)



[different up here so where does a result](https://youtu.be/pz1MYpZ93UA?t=00h39m53s)



[come from one of these two places](https://youtu.be/pz1MYpZ93UA?t=00h40m00s)



[so I think what we do is we're gonna](https://youtu.be/pz1MYpZ93UA?t=00h40m08s)



[change this up a little bit but I'd](https://youtu.be/pz1MYpZ93UA?t=00h40m10s)



[really hate to do this but I think what](https://youtu.be/pz1MYpZ93UA?t=00h40m15s)



[we do is something like this](https://youtu.be/pz1MYpZ93UA?t=00h40m20s)



[task is sealed right](https://youtu.be/pz1MYpZ93UA?t=00h40m36s)



[I think it's seal I'd really hate to go](https://youtu.be/pz1MYpZ93UA?t=00h40m39s)



[through and do this task run which is](https://youtu.be/pz1MYpZ93UA?t=00h40m46s)



[fairly expensive unless I have to](https://youtu.be/pz1MYpZ93UA?t=00h40m49s)



[you know and I so we could check oh that](https://youtu.be/pz1MYpZ93UA?t=00h41m00s)



[might be better option](https://youtu.be/pz1MYpZ93UA?t=00h41m12s)



[because what I'd really love to do is](https://youtu.be/pz1MYpZ93UA?t=00h41m28s)



[change this up so that rather than wrong](https://youtu.be/pz1MYpZ93UA?t=00h41m31s)



[spot okay model binding handler so that](https://youtu.be/pz1MYpZ93UA?t=00h41m39s)



[rather than doing this invoke here this](https://youtu.be/pz1MYpZ93UA?t=00h41m45s)



[gets invoked as potentially part of a](https://youtu.be/pz1MYpZ93UA?t=00h41m48s)



[callback because at this point here we](https://youtu.be/pz1MYpZ93UA?t=00h41m52s)



[effectively know our return type](https://youtu.be/pz1MYpZ93UA?t=00h42m03s)



[right because handler delegate will have](https://youtu.be/pz1MYpZ93UA?t=00h42m05s)



[a method info that we can get the return](https://youtu.be/pz1MYpZ93UA?t=00h42m08s)



[type off of or handler method info will](https://youtu.be/pz1MYpZ93UA?t=00h42m10s)



[have a return type that we can also get](https://youtu.be/pz1MYpZ93UA?t=00h42m14s)



[the return return value off of or the](https://youtu.be/pz1MYpZ93UA?t=00h42m16s)



[return type off of so in either of those](https://youtu.be/pz1MYpZ93UA?t=00h42m18s)



[cases that would be acceptable I'm just](https://youtu.be/pz1MYpZ93UA?t=00h42m22s)



[trying to decide how this get result](https://youtu.be/pz1MYpZ93UA?t=00h42m31s)



[code needs to work](https://youtu.be/pz1MYpZ93UA?t=00h42m34s)



[Soho because we don't necessarily need](https://youtu.be/pz1MYpZ93UA?t=00h42m47s)



[to handle all return types just task](https://youtu.be/pz1MYpZ93UA?t=00h42m50s)



[vent and task](https://youtu.be/pz1MYpZ93UA?t=00h42m52s)



[I'm wondering if something like so just](https://youtu.be/pz1MYpZ93UA?t=00h43m07s)



[playing with this for the moment so I](https://youtu.be/pz1MYpZ93UA?t=00h43m12s)



[think we do something like if is a sync](https://youtu.be/pz1MYpZ93UA?t=00h43m21s)



[method and this is the more interesting](https://youtu.be/pz1MYpZ93UA?t=00h43m26s)



[case task run get value just put you](https://youtu.be/pz1MYpZ93UA?t=00h43m30s)



[down in here](https://youtu.be/pz1MYpZ93UA?t=00h43m47s)



[because the question is what](https://youtu.be/pz1MYpZ93UA?t=00h44m02s)



[what to actually do here because this](https://youtu.be/pz1MYpZ93UA?t=00h44m11s)



[effectively needs to do this sort of](https://youtu.be/pz1MYpZ93UA?t=00h44m14s)



[thing with the context result code if](https://youtu.be/pz1MYpZ93UA?t=00h44m18s)



[there's a an integer return from the](https://youtu.be/pz1MYpZ93UA?t=00h44m26s)



[handler method we want that otherwise we](https://youtu.be/pz1MYpZ93UA?t=00h44m28s)



[want the integer off of the contacts](https://youtu.be/pz1MYpZ93UA?t=00h44m31s)



[result code so well this is effectively](https://youtu.be/pz1MYpZ93UA?t=00h44m34s)



[where the switch statement would come](https://youtu.be/pz1MYpZ93UA?t=00h44m43s)



[into play here but it's going to be more](https://youtu.be/pz1MYpZ93UA?t=00h44m45s)



[like this](https://youtu.be/pz1MYpZ93UA?t=00h44m51s)



[and then we can actually go back to more](https://youtu.be/pz1MYpZ93UA?t=00h44m55s)



[akin to these if this is effectively](https://youtu.be/pz1MYpZ93UA?t=00h44m58s)



[exactly what we have and then this can](https://youtu.be/pz1MYpZ93UA?t=00h45m02s)



[become a sink](https://youtu.be/pz1MYpZ93UA?t=00h45m08s)



[and that works a little nicer and then](https://youtu.be/pz1MYpZ93UA?t=00h45m24s)



[this else case becomes the rest of the](https://youtu.be/pz1MYpZ93UA?t=00h45m29s)



[rest of the switch where we do something](https://youtu.be/pz1MYpZ93UA?t=00h45m36s)



[like that this is taking advantage of](https://youtu.be/pz1MYpZ93UA?t=00h45m52s)



[the C sharp seven pattern matching](https://youtu.be/pz1MYpZ93UA?t=00h45m56s)



[except for a neither of these cases need](https://youtu.be/pz1MYpZ93UA?t=00h45m58s)



[to be handled and it's more like this oh](https://youtu.be/pz1MYpZ93UA?t=00h46m01s)



[thank you for sharper telling me that I](https://youtu.be/pz1MYpZ93UA?t=00h46m05s)



[can throw that away](https://youtu.be/pz1MYpZ93UA?t=00h46m08s)



[wonderful](https://youtu.be/pz1MYpZ93UA?t=00h46m10s)



[does this work for me](https://youtu.be/pz1MYpZ93UA?t=00h46m22s)



[it technically works not overly happy](https://youtu.be/pz1MYpZ93UA?t=00h46m30s)



[with it but it works so let's let's go](https://youtu.be/pz1MYpZ93UA?t=00h46m33s)



[with works first and then clean up](https://youtu.be/pz1MYpZ93UA?t=00h46m38s)



[second so this is going to become lambda](https://youtu.be/pz1MYpZ93UA?t=00h46m40s)



[there and this is going to become pool](https://youtu.be/pz1MYpZ93UA?t=00h46m48s)



[is a sink method gets let's see this is](https://youtu.be/pz1MYpZ93UA?t=00h46m55s)



[a little simpler because this just](https://youtu.be/pz1MYpZ93UA?t=00h47m03s)



[becomes a straight-up returned this goes](https://youtu.be/pz1MYpZ93UA?t=00h47m05s)



[away and this becomes a straight-up](https://youtu.be/pz1MYpZ93UA?t=00h47m09s)



[return and this is](https://youtu.be/pz1MYpZ93UA?t=00h47m11s)



[so let's do the same check if handle or](https://youtu.be/pz1MYpZ93UA?t=00h47m25s)



[delegate equals equals null then we will](https://youtu.be/pz1MYpZ93UA?t=00h47m28s)



[do well start with this type return type](https://youtu.be/pz1MYpZ93UA?t=00h47m32s)



[so the return type is either going to be](https://youtu.be/pz1MYpZ93UA?t=00h47m39s)



[handle or delegate or into their method](https://youtu.be/pz1MYpZ93UA?t=00h47m45s)



[info return type so return type equals](https://youtu.be/pz1MYpZ93UA?t=00h47m56s)



[type of task or return type equals task](https://youtu.be/pz1MYpZ93UA?t=00h48m02s)



[of int and that variable isn't needed](https://youtu.be/pz1MYpZ93UA?t=00h48m15s)



[anymore and that goes away and so then](https://youtu.be/pz1MYpZ93UA?t=00h48m21s)



[we pass is async method not sure I like](https://youtu.be/pz1MYpZ93UA?t=00h48m24s)



[the name of this to rename this I think](https://youtu.be/pz1MYpZ93UA?t=00h48m28s)



[it's more clear how about returns tasks](https://youtu.be/pz1MYpZ93UA?t=00h48m35s)



[still not happy with it but we'll come](https://youtu.be/pz1MYpZ93UA?t=00h48m45s)



[back to it again okay so command handler](https://youtu.be/pz1MYpZ93UA?t=00h48m47s)



[is up here and let's go we'd started](https://youtu.be/pz1MYpZ93UA?t=00h48m52s)



[writing unit tests and then I got](https://youtu.be/pz1MYpZ93UA?t=00h48m57s)



[distracted and decided to move some](https://youtu.be/pz1MYpZ93UA?t=00h48m59s)



[stuff so let's start once again with](https://youtu.be/pz1MYpZ93UA?t=00h49m01s)



[these guys and a specific invocation](https://youtu.be/pz1MYpZ93UA?t=00h49m03s)



[handler so command handler create so](https://youtu.be/pz1MYpZ93UA?t=00h49m09s)



[aside from all of these calling in vote](https://youtu.be/pz1MYpZ93UA?t=00h49m19s)



[all of these are ultimately going](https://youtu.be/pz1MYpZ93UA?t=00h49m21s)



[through invoke async just the same spot](https://youtu.be/pz1MYpZ93UA?t=00h49m23s)



[our other one went through](https://youtu.be/pz1MYpZ93UA?t=00h49m29s)



[because ultimately a lot of these are](https://youtu.be/pz1MYpZ93UA?t=00h49m39s)



[trying to handle testing this model](https://youtu.be/pz1MYpZ93UA?t=00h49m41s)



[binding command handler because right](https://youtu.be/pz1MYpZ93UA?t=00h49m44s)



[now this is the only implementation of I](https://youtu.be/pz1MYpZ93UA?t=00h49m46s)



[command handler that's built into the](https://youtu.be/pz1MYpZ93UA?t=00h49m50s)



[library obviously that's an](https://youtu.be/pz1MYpZ93UA?t=00h49m52s)



[implementation detail and subject to](https://youtu.be/pz1MYpZ93UA?t=00h49m56s)



[change at any point but currently that](https://youtu.be/pz1MYpZ93UA?t=00h49m58s)



[is true so I'm trying to decide if any](https://youtu.be/pz1MYpZ93UA?t=00h50m00s)



[of these is just flatten these so all of](https://youtu.be/pz1MYpZ93UA?t=00h50m05s)



[these are only async because they're](https://youtu.be/pz1MYpZ93UA?t=00h50m09s)



[doing command and boquete sink which is](https://youtu.be/pz1MYpZ93UA?t=00h50m11s)



[that this is the same this is the same](https://youtu.be/pz1MYpZ93UA?t=00h50m22s)



[entry method as before I'm inclined to](https://youtu.be/pz1MYpZ93UA?t=00h50m27s)



[ignore those tests at least for now and](https://youtu.be/pz1MYpZ93UA?t=00h50m32s)



[focus on these ones so this guy here](https://youtu.be/pz1MYpZ93UA?t=00h50m35s)



[let's root command okay always like even](https://youtu.be/pz1MYpZ93UA?t=00h50m43s)



[white space Roo command invoke a sink](https://youtu.be/pz1MYpZ93UA?t=00h50m50s)



[root command invoke the command invoke a](https://youtu.be/pz1MYpZ93UA?t=00h50m52s)



[sink let's once again change this up and](https://youtu.be/pz1MYpZ93UA?t=00h50m55s)



[make this a void returning method and](https://youtu.be/pz1MYpZ93UA?t=00h51m03s)



[then we'll actually run this and verify](https://youtu.be/pz1MYpZ93UA?t=00h51m05s)



[that things actually work the way we](https://youtu.be/pz1MYpZ93UA?t=00h51m07s)



[expect let's see so this creates it up](https://youtu.be/pz1MYpZ93UA?t=00h51m09s)



[this is no longer an async method so we](https://youtu.be/pz1MYpZ93UA?t=00h51m16s)



[remove that that becomes a straight-up](https://youtu.be/pz1MYpZ93UA?t=00h51m19s)



[invoke and then let's do this let's see](https://youtu.be/pz1MYpZ93UA?t=00h51m24s)



[here void return replace invoke a sink](https://youtu.be/pz1MYpZ93UA?t=00h51m33s)



[with invoke drop the await I'm gonna](https://youtu.be/pz1MYpZ93UA?t=00h51m39s)



[change this nope](https://youtu.be/pz1MYpZ93UA?t=00h51m44s)



[rename this then I'll auto code the bar](https://youtu.be/pz1MYpZ93UA?t=00h51m46s)



[okay so let's start with that and let's](https://youtu.be/pz1MYpZ93UA?t=00h51m54s)



[make sure we haven't broken anything and](https://youtu.be/pz1MYpZ93UA?t=00h52m01s)



[then we'll see about refactoring some of](https://youtu.be/pz1MYpZ93UA?t=00h52m04s)



[these methods for reuse there's probably](https://youtu.be/pz1MYpZ93UA?t=00h52m07s)



[a decent amount of code I hope that](https://youtu.be/pz1MYpZ93UA?t=00h52m11s)



[could be shared between both the](https://youtu.be/pz1MYpZ93UA?t=00h52m17s)



[synchronous and asynchronous versions](https://youtu.be/pz1MYpZ93UA?t=00h52m18s)



[because just because you have to declare](https://youtu.be/pz1MYpZ93UA?t=00h52m24s)



[effectively two versions of the API](https://youtu.be/pz1MYpZ93UA?t=00h52m27s)



[doesn't mean that there can't be code](https://youtu.be/pz1MYpZ93UA?t=00h52m30s)



[sharing between them](https://youtu.be/pz1MYpZ93UA?t=00h52m32s)



[obviously I started with the editor](https://youtu.be/pz1MYpZ93UA?t=00h52m33s)



[inheritance copy and paste approach but](https://youtu.be/pz1MYpZ93UA?t=00h52m36s)



[that is that is just as a starting point](https://youtu.be/pz1MYpZ93UA?t=00h52m39s)



[okay](https://youtu.be/pz1MYpZ93UA?t=00h52m44s)



[let this guy go through and compile it](https://youtu.be/pz1MYpZ93UA?t=00h52m46s)



[up I'm I'm guessing there's a few more](https://youtu.be/pz1MYpZ93UA?t=00h52m49s)



[than eight tests once this thing](https://youtu.be/pz1MYpZ93UA?t=00h52m51s)



[actually runs I suspect this was the](https://youtu.be/pz1MYpZ93UA?t=00h52m52s)



[possibly the live unit testing](https://youtu.be/pz1MYpZ93UA?t=00h52m58s)



[discovering the tests as I added them](https://youtu.be/pz1MYpZ93UA?t=00h53m00s)



[just great there's probably a few more](https://youtu.be/pz1MYpZ93UA?t=00h53m02s)



[yeah just a few things to compile and](https://youtu.be/pz1MYpZ93UA?t=00h53m08s)



[run](https://youtu.be/pz1MYpZ93UA?t=00h53m11s)



[and as always I need my caffeine to keep](https://youtu.be/pz1MYpZ93UA?t=00h53m23s)



[going those who are a little unfamiliar](https://youtu.be/pz1MYpZ93UA?t=00h53m27s)



[with it I have a small caffeine](https://youtu.be/pz1MYpZ93UA?t=00h53m35s)



[addiction there that looks more like the](https://youtu.be/pz1MYpZ93UA?t=00h53m38s)



[unit test I was expecting like all the](https://youtu.be/pz1MYpZ93UA?t=00h53m46s)



[things suppose we technically don't need](https://youtu.be/pz1MYpZ93UA?t=00h53m49s)



[to be running all of these I'm really](https://youtu.be/pz1MYpZ93UA?t=00h53m53s)



[mostly concerned just with the actually](https://youtu.be/pz1MYpZ93UA?t=00h53m55s)



[just with these 39 for the moment it's](https://youtu.be/pz1MYpZ93UA?t=00h53m58s)



[really all I care about but will let the](https://youtu.be/pz1MYpZ93UA?t=00h54m01s)



[whole suite run for the moment and then](https://youtu.be/pz1MYpZ93UA?t=00h54m05s)



[we'll go see about fixing up some more](https://youtu.be/pz1MYpZ93UA?t=00h54m06s)



[of them I do think that we probably need](https://youtu.be/pz1MYpZ93UA?t=00h54m09s)



[some of the command handler tests to get](https://youtu.be/pz1MYpZ93UA?t=00h54m10s)



[changed or at least more to be added](https://youtu.be/pz1MYpZ93UA?t=00h54m14s)



[we'll see how this plays out and most of](https://youtu.be/pz1MYpZ93UA?t=00h54m19s)



[these tests are fairly fast but again](https://youtu.be/pz1MYpZ93UA?t=00h54m24s)



[this was a clean clone ish for me](https://youtu.be/pz1MYpZ93UA?t=00h54m26s)



[so it's this hasn't been run in a little](https://youtu.be/pz1MYpZ93UA?t=00h54m30s)



[while](https://youtu.be/pz1MYpZ93UA?t=00h54m33s)



[and you can say most these tests are](https://youtu.be/pz1MYpZ93UA?t=00h54m42s)



[pretty fast the slow part is usually](https://youtu.be/pz1MYpZ93UA?t=00h54m45s)



[just getting the run or spun up and](https://youtu.be/pz1MYpZ93UA?t=00h54m47s)



[running huzzah those ones worked great](https://youtu.be/pz1MYpZ93UA?t=00h54m51s)



[we are making progress](https://youtu.be/pz1MYpZ93UA?t=00h54m56s)



[let's see model binding so we only](https://youtu.be/pz1MYpZ93UA?t=00h54m59s)



[handled the invocation extensions let's](https://youtu.be/pz1MYpZ93UA?t=00h55m04s)



[handle the invocation pipeline as well](https://youtu.be/pz1MYpZ93UA?t=00h55m07s)



[let's go take a look at these clean out](https://youtu.be/pz1MYpZ93UA?t=00h55m12s)



[the clear tab bankruptcy and start over](https://youtu.be/pz1MYpZ93UA?t=00h55m17s)



[okay so see use middleware and this is](https://youtu.be/pz1MYpZ93UA?t=00h55m20s)



[where it gets weird because just because](https://youtu.be/pz1MYpZ93UA?t=00h55m33s)



[this is using invoke async I do want to](https://youtu.be/pz1MYpZ93UA?t=00h55m35s)



[validate that invoke behaves the same as](https://youtu.be/pz1MYpZ93UA?t=00h55m39s)



[in vogue async but most of these are](https://youtu.be/pz1MYpZ93UA?t=00h55m42s)



[just simply shelling out](https://youtu.be/pz1MYpZ93UA?t=00h55m48s)



[let's do this for the moment let's see](https://youtu.be/pz1MYpZ93UA?t=00h56m00s)



[test lives unit testing go let's get](https://youtu.be/pz1MYpZ93UA?t=00h56m04s)



[this going and I'm I'm curious to to see](https://youtu.be/pz1MYpZ93UA?t=00h56m08s)



[this because all of these doing call and](https://youtu.be/pz1MYpZ93UA?t=00h56m13s)



[VOC async](https://youtu.be/pz1MYpZ93UA?t=00h56m18s)



[parsa's oh it can be replaced by](https://youtu.be/pz1MYpZ93UA?t=00h56m41s)



[middleware see this is more testing the](https://youtu.be/pz1MYpZ93UA?t=00h56m43s)



[used middleware and less about the](https://youtu.be/pz1MYpZ93UA?t=00h56m46s)



[invocation so I think some of these](https://youtu.be/pz1MYpZ93UA?t=00h56m48s)



[tests are worth adding but I don't](https://youtu.be/pz1MYpZ93UA?t=00h56m50s)



[necessarily think all of them are so for](https://youtu.be/pz1MYpZ93UA?t=00h56m52s)



[example invoke async chooses the](https://youtu.be/pz1MYpZ93UA?t=00h56m56s)



[appropriate command this is an this is](https://youtu.be/pz1MYpZ93UA?t=00h56m57s)



[absolutely because invoke async is the](https://youtu.be/pz1MYpZ93UA?t=00h56m59s)



[method under test this absolutely should](https://youtu.be/pz1MYpZ93UA?t=00h57m02s)



[be added but the ones that are testing](https://youtu.be/pz1MYpZ93UA?t=00h57m04s)



[to use middleware I don't think it's](https://youtu.be/pz1MYpZ93UA?t=00h57m08s)



[worth having a second test to call](https://youtu.be/pz1MYpZ93UA?t=00h57m11s)



[invoke for something that's not actually](https://youtu.be/pz1MYpZ93UA?t=00h57m14s)



[being tested so this guy here I'm](https://youtu.be/pz1MYpZ93UA?t=00h57m16s)



[curious why I'm not seeing my see output](https://youtu.be/pz1MYpZ93UA?t=00h57m26s)



[live unit testing has started it's great](https://youtu.be/pz1MYpZ93UA?t=00h57m32s)



[why do I not see output results from it](https://youtu.be/pz1MYpZ93UA?t=00h57m36s)



[let's just continue through here when](https://youtu.be/pz1MYpZ93UA?t=00h57m40s)



[middleware throws invoke async does not](https://youtu.be/pz1MYpZ93UA?t=00h57m44s)



[handle the exception perfect let's this](https://youtu.be/pz1MYpZ93UA?t=00h57m46s)



[is another great one when middleware](https://youtu.be/pz1MYpZ93UA?t=00h57m50s)



[throws in VOC does not handle the](https://youtu.be/pz1MYpZ93UA?t=00h57m53s)



[exception so we should drop this and VOC](https://youtu.be/pz1MYpZ93UA?t=00h57m58s)



[which means no longer a weight which](https://youtu.be/pz1MYpZ93UA?t=00h58m03s)



[means no longer async which means func](https://youtu.be/pz1MYpZ93UA?t=00h58m05s)



[of int perfect that should work to one](https://youtu.be/pz1MYpZ93UA?t=00h58m10s)



[command handler throws this is when](https://youtu.be/pz1MYpZ93UA?t=00h58m19s)



[middleware throws one command handler](https://youtu.be/pz1MYpZ93UA?t=00h58m25s)



[throws okay so that's fine we should we](https://youtu.be/pz1MYpZ93UA?t=00h58m27s)



[should add this one as well](https://youtu.be/pz1MYpZ93UA?t=00h58m31s)



[command handle earth rose invoke does](https://youtu.be/pz1MYpZ93UA?t=00h58m37s)



[not handle the exception great so let's](https://youtu.be/pz1MYpZ93UA?t=00h58m42s)



[make sure we actually invoke the](https://youtu.be/pz1MYpZ93UA?t=00h58m46s)



[appropriate method there's my live unit](https://youtu.be/pz1MYpZ93UA?t=00h58m47s)



[testing and I see you to catch up to me](https://youtu.be/pz1MYpZ93UA?t=00h58m49s)



[my poor little machine trying to keep up](https://youtu.be/pz1MYpZ93UA?t=00h58m54s)



[with all of this stuff that I'm asking](https://youtu.be/pz1MYpZ93UA?t=00h58m57s)



[it to do ok parser invoke great](https://youtu.be/pz1MYpZ93UA?t=00h58m58s)



[let's see parser invocation be](https://youtu.be/pz1MYpZ93UA?t=00h59m09s)



[short-circuited by middleware not](https://youtu.be/pz1MYpZ93UA?t=00h59m11s)



[calling next think this one I want to do](https://youtu.be/pz1MYpZ93UA?t=00h59m13s)



[because even though this isn't directly](https://youtu.be/pz1MYpZ93UA?t=00h59m23s)



[there this ties into the command handle](https://youtu.be/pz1MYpZ93UA?t=00h59m27s)



[or work that we just did and I would](https://youtu.be/pz1MYpZ93UA?t=00h59m30s)



[like to make sure that those actually](https://youtu.be/pz1MYpZ93UA?t=00h59m34s)



[don't do this for your method names](https://youtu.be/pz1MYpZ93UA?t=00h59m41s)



[there's no way that will get passed code](https://youtu.be/pz1MYpZ93UA?t=00h59m44s)



[review but deal with that in a minute I](https://youtu.be/pz1MYpZ93UA?t=00h59m46s)



[just want to get this rewritten first](https://youtu.be/pz1MYpZ93UA?t=00h59m51s)



[and then we'll look at a better name](https://youtu.be/pz1MYpZ93UA?t=00h59m54s)



[because this is effectively that that](https://youtu.be/pz1MYpZ93UA?t=00h59m59s)



[interesting case where we have a](https://youtu.be/pz1MYpZ93UA?t=01h00m02s)



[synchronous invoke and an asynchronous](https://youtu.be/pz1MYpZ93UA?t=01h00m07s)



[middleware handler](https://youtu.be/pz1MYpZ93UA?t=01h00m11s)



[huh synchronous oh hey that was not the](https://youtu.be/pz1MYpZ93UA?t=01h00m28s)



[order I pressed those keys in](https://youtu.be/pz1MYpZ93UA?t=01h00m36s)



[synchronous invocation can be](https://youtu.be/pz1MYpZ93UA?t=01h00m38s)



[short-circuited by a sync middleware and](https://youtu.be/pz1MYpZ93UA?t=01h00m42s)



[not calling next there that's a better](https://youtu.be/pz1MYpZ93UA?t=01h00m49s)



[name that actually reflects what it does](https://youtu.be/pz1MYpZ93UA?t=01h00m52s)



[when Noel billows of specify uses](https://youtu.be/pz1MYpZ93UA?t=01h00m57s)



[default implementation great helpful the](https://youtu.be/pz1MYpZ93UA?t=01h00m59s)



[fact is great those are all around they](https://youtu.be/pz1MYpZ93UA?t=01h01m02s)



[use help and I can't spell what the heck](https://youtu.be/pz1MYpZ93UA?t=01h01m04s)



[did we do here](https://youtu.be/pz1MYpZ93UA?t=01h01m14s)



[q](https://youtu.be/pz1MYpZ93UA?t=01h01m33s)



[it is worth noting some of these unit](https://youtu.be/pz1MYpZ93UA?t=01h01m44s)



[tests do not play nice with live unit](https://youtu.be/pz1MYpZ93UA?t=01h01m49s)



[testing so for now I'm really only](https://youtu.be/pz1MYpZ93UA?t=01h01m52s)



[concerned with these ones more](https://youtu.be/pz1MYpZ93UA?t=01h01m59s)



[importantly jebra one just failed in](https://youtu.be/pz1MYpZ93UA?t=01h02m03s)



[here so let's see when middleware throws](https://youtu.be/pz1MYpZ93UA?t=01h02m06s)



[this test didn't pass this is a problem](https://youtu.be/pz1MYpZ93UA?t=01h02m10s)



[so when middleware throws an exception](https://youtu.be/pz1MYpZ93UA?t=01h02m21s)



[okay](https://youtu.be/pz1MYpZ93UA?t=01h02m31s)



[okay](https://youtu.be/pz1MYpZ93UA?t=01h02m41s)



[live unit testing I feel like you're](https://youtu.be/pz1MYpZ93UA?t=01h02m42s)



[causing me more problems in your solving](https://youtu.be/pz1MYpZ93UA?t=01h02m44s)



[right now so go away and turn off let's](https://youtu.be/pz1MYpZ93UA?t=01h02m46s)



[run the invocation pipeline tests I'm](https://youtu.be/pz1MYpZ93UA?t=01h02m50s)



[sort of wondering if that was just out](https://youtu.be/pz1MYpZ93UA?t=01h02m53s)



[of date and didn't catch up with me in](https://youtu.be/pz1MYpZ93UA?t=01h02m55s)



[time which is a very distinct](https://youtu.be/pz1MYpZ93UA?t=01h02m57s)



[possibility you think about that and](https://youtu.be/pz1MYpZ93UA?t=01h02m59s)



[let's continue on our way down so that](https://youtu.be/pz1MYpZ93UA?t=01h03m07s)



[thinks about running these command](https://youtu.be/pz1MYpZ93UA?t=01h03m10s)



[handle or tests of the next ones I'm](https://youtu.be/pz1MYpZ93UA?t=01h03m13s)



[interested in looking at to see okay so](https://youtu.be/pz1MYpZ93UA?t=01h03m15s)



[that is legitimately failing so what is](https://youtu.be/pz1MYpZ93UA?t=01h03m28s)



[the problem then expect its system](https://youtu.be/pz1MYpZ93UA?t=01h03m34s)



[exception but no exception was thrown](https://youtu.be/pz1MYpZ93UA?t=01h03m38s)



[very likely because we wrap it in a task](https://youtu.be/pz1MYpZ93UA?t=01h03m43s)



[dot run and it's being swallowed I would](https://youtu.be/pz1MYpZ93UA?t=01h03m47s)



[suspect that is the problem so far so](https://youtu.be/pz1MYpZ93UA?t=01h03m52s)



[don't invoke low VOC folk](https://youtu.be/pz1MYpZ93UA?t=01h04m05s)



[go to implementation I do wonder real](https://youtu.be/pz1MYpZ93UA?t=01h04m17s)



[quick something the back of my mind is](https://youtu.be/pz1MYpZ93UA?t=01h04m24s)



[telling me that there was a comment](https://youtu.be/pz1MYpZ93UA?t=01h04m26s)



[about that swallowing but I'm also](https://youtu.be/pz1MYpZ93UA?t=01h04m36s)



[realizing that my async handler is](https://youtu.be/pz1MYpZ93UA?t=01h04m39s)



[slightly different because this is](https://youtu.be/pz1MYpZ93UA?t=01h04m42s)



[labeled as async so I think what we](https://youtu.be/pz1MYpZ93UA?t=01h04m49s)



[wanted that I think what we want is that](https://youtu.be/pz1MYpZ93UA?t=01h04m56s)



[did](https://youtu.be/pz1MYpZ93UA?t=01h05m07s)



[I think I do that that's not quite right](https://youtu.be/pz1MYpZ93UA?t=01h05m18s)



[now is it though okay I think I was](https://youtu.be/pz1MYpZ93UA?t=01h05m25s)



[trying to be clever and not do this task](https://youtu.be/pz1MYpZ93UA?t=01h05m37s)



[run multiple times but I think I just](https://youtu.be/pz1MYpZ93UA?t=01h05m39s)



[need to stop get over myself and just do](https://youtu.be/pz1MYpZ93UA?t=01h05m41s)



[it up here turn tasks run and results](https://youtu.be/pz1MYpZ93UA?t=01h05m44s)



[let's see here](https://youtu.be/pz1MYpZ93UA?t=01h06m01s)



[so I'm going to need that and then I'm](https://youtu.be/pz1MYpZ93UA?t=01h06m03s)



[going to need to return let's see](https://youtu.be/pz1MYpZ93UA?t=01h06m10s)



[Chase's task and](https://youtu.be/pz1MYpZ93UA?t=01h06m18s)



[so I think we are just going to](https://youtu.be/pz1MYpZ93UA?t=01h06m26s)



[straight-up cast this because that](https://youtu.be/pz1MYpZ93UA?t=01h06m29s)



[should work you're no longer value](https://youtu.be/pz1MYpZ93UA?t=01h06m36s)



[you're now going to be tasks return](https://youtu.be/pz1MYpZ93UA?t=01h06m40s)



[tasks like that okay get that out of my](https://youtu.be/pz1MYpZ93UA?t=01h06m42s)



[way let's see here this is going to be](https://youtu.be/pz1MYpZ93UA?t=01h06m49s)



[test run get value wait oh sure we can](https://youtu.be/pz1MYpZ93UA?t=01h06m56s)



[go to a method group that sounds great](https://youtu.be/pz1MYpZ93UA?t=01h07m07s)



[thanks and then that goes there so the](https://youtu.be/pz1MYpZ93UA?t=01h07m09s)



[problem now is this switch see end](https://youtu.be/pz1MYpZ93UA?t=01h07m12s)



[result code I think rather than this](https://youtu.be/pz1MYpZ93UA?t=01h07m18s)



[returns task I think we're just going to](https://youtu.be/pz1MYpZ93UA?t=01h07m21s)



[do that whack all of that for now](https://youtu.be/pz1MYpZ93UA?t=01h07m33s)



[because this doesn't need to be get](https://youtu.be/pz1MYpZ93UA?t=01h07m40s)



[value let see get value we can cast to](https://youtu.be/pz1MYpZ93UA?t=01h07m42s)



[an INT](https://youtu.be/pz1MYpZ93UA?t=01h07m54s)



[I think this one this the case and](https://youtu.be/pz1MYpZ93UA?t=01h08m10s)



[default need to be combined if a turn](https://youtu.be/pz1MYpZ93UA?t=01h08m14s)



[context result code otherwise we'll just](https://youtu.be/pz1MYpZ93UA?t=01h08m28s)



[throw so that brings that out of here I](https://youtu.be/pz1MYpZ93UA?t=01h08m32s)



[think the last bit is we're not going to](https://youtu.be/pz1MYpZ93UA?t=01h08m41s)



[be able to get away with this](https://youtu.be/pz1MYpZ93UA?t=01h08m46s)



[so if](https://youtu.be/pz1MYpZ93UA?t=01h08m50s)



[and convert this all the way down okay](https://youtu.be/pz1MYpZ93UA?t=01h09m09s)



[so this is quickly turning ugly but I](https://youtu.be/pz1MYpZ93UA?t=01h09m13s)



[think this will come out okay else--if](https://youtu.be/pz1MYpZ93UA?t=01h09m18s)



[return type is I am wondering if this](https://youtu.be/pz1MYpZ93UA?t=01h09m21s)



[should be handling there's a subtle](https://youtu.be/pz1MYpZ93UA?t=01h09m30s)



[change in behavior by doing this and I](https://youtu.be/pz1MYpZ93UA?t=01h09m32s)



[should probably change this to not just](https://youtu.be/pz1MYpZ93UA?t=01h09m38s)



[be a straight type of comparison because](https://youtu.be/pz1MYpZ93UA?t=01h09m40s)



[this will not handle derived classes of](https://youtu.be/pz1MYpZ93UA?t=01h09m46s)



[tasks but in the interest of getting](https://youtu.be/pz1MYpZ93UA?t=01h09m48s)



[this working we're going to start here](https://youtu.be/pz1MYpZ93UA?t=01h09m53s)



[and the perks of this being a stream is](https://youtu.be/pz1MYpZ93UA?t=01h09m55s)



[I can go back and watch my video later](https://youtu.be/pz1MYpZ93UA?t=01h09m58s)



[see all the things I forgot to do so](https://youtu.be/pz1MYpZ93UA?t=01h10m00s)



[this will be type of int and turn this](https://youtu.be/pz1MYpZ93UA?t=01h10m03s)



[guy all the way out and then the default](https://youtu.be/pz1MYpZ93UA?t=01h10m09s)



[case just becomes what's left over and](https://youtu.be/pz1MYpZ93UA?t=01h10m15s)



[that works a little bit nicer okay so](https://youtu.be/pz1MYpZ93UA?t=01h10m23s)



[jump back to our caller just right here](https://youtu.be/pz1MYpZ93UA?t=01h10m27s)



[and we whack our boolean and instead](https://youtu.be/pz1MYpZ93UA?t=01h10m32s)



[just give it return type okay there's a](https://youtu.be/pz1MYpZ93UA?t=01h10m36s)



[general rule I find that if I'm writing](https://youtu.be/pz1MYpZ93UA?t=01h10m40s)



[less code I'm probably writing better](https://youtu.be/pz1MYpZ93UA?t=01h10m42s)



[code fewer spots for me to have bugs](https://youtu.be/pz1MYpZ93UA?t=01h10m44s)



[okay and I think that makes the](https://youtu.be/pz1MYpZ93UA?t=01h10m50s)



[exception propagate through I think the](https://youtu.be/pz1MYpZ93UA?t=01h10m53s)



[the key change is we no longer have an](https://youtu.be/pz1MYpZ93UA?t=01h10m58s)



[asynchronous delegate being passed into](https://youtu.be/pz1MYpZ93UA?t=01h11m00s)



[task dot run and now it's just a](https://youtu.be/pz1MYpZ93UA?t=01h11m03s)



[straight-up one and I apparently got way](https://youtu.be/pz1MYpZ93UA?t=01h11m07s)



[too many closing braces and broke](https://youtu.be/pz1MYpZ93UA?t=01h11m10s)



[something okay try again](https://youtu.be/pz1MYpZ93UA?t=01h11m11s)



[as I think going to a synchronous](https://youtu.be/pz1MYpZ93UA?t=01h11m18s)



[delegate fixes the exception propagation](https://youtu.be/pz1MYpZ93UA?t=01h11m20s)



[I think just know this doesn't have a](https://youtu.be/pz1MYpZ93UA?t=01h11m23s)



[sink in front of it come on throw the](https://youtu.be/pz1MYpZ93UA?t=01h11m29s)



[exception make me happy so jumping back](https://youtu.be/pz1MYpZ93UA?t=01h11m37s)



[just for those who are interested in](https://youtu.be/pz1MYpZ93UA?t=01h11m42s)



[noting so we have a command whose and](https://youtu.be/pz1MYpZ93UA?t=01h11m45s)



[some middleware that's job is just](https://youtu.be/pz1MYpZ93UA?t=01h11m49s)



[straight throwing except oh wait this is](https://youtu.be/pz1MYpZ93UA?t=01h11m51s)



[middleware not a command handler our](https://youtu.be/pz1MYpZ93UA?t=01h11m54s)



[command handler worked just fine I still](https://youtu.be/pz1MYpZ93UA?t=01h12m01s)



[like to refactor but middleware is](https://youtu.be/pz1MYpZ93UA?t=01h12m04s)



[losing Oh interesting](https://youtu.be/pz1MYpZ93UA?t=01h12m09s)



[Oh interesting Oh interesting so let's](https://youtu.be/pz1MYpZ93UA?t=01h12m13s)



[look at that so this is straight up](https://youtu.be/pz1MYpZ93UA?t=01h12m15s)



[middleware that is oh this thing down](https://youtu.be/pz1MYpZ93UA?t=01h12m23s)



[here that we so cleverly put in place](https://youtu.be/pz1MYpZ93UA?t=01h12m38s)



[again don't do this but in the interest](https://youtu.be/pz1MYpZ93UA?t=01h12m50s)



[of proving that this is the right change](https://youtu.be/pz1MYpZ93UA?t=01h12m54s)



[let's just create a new delegate real](https://youtu.be/pz1MYpZ93UA?t=01h12m57s)



[quick call it two rather than tasks it's](https://youtu.be/pz1MYpZ93UA?t=01h12m59s)



[just going to be action and this will be](https://youtu.be/pz1MYpZ93UA?t=01h13m06s)



[void returning okay so hopefully this](https://youtu.be/pz1MYpZ93UA?t=01h13m10s)



[gets us one step closer to having a](https://youtu.be/pz1MYpZ93UA?t=01h13m16s)



[synchronous API where we only had an](https://youtu.be/pz1MYpZ93UA?t=01h13m22s)



[asynchronous one okay so in the interest](https://youtu.be/pz1MYpZ93UA?t=01h13m24s)



[of testing and that becomes a two that](https://youtu.be/pz1MYpZ93UA?t=01h13m29s)



[becomes a two](https://youtu.be/pz1MYpZ93UA?t=01h13m31s)



[this return goes away this becomes an](https://youtu.be/pz1MYpZ93UA?t=01h13m32s)



[empty action delegate boom and this goes](https://youtu.be/pz1MYpZ93UA?t=01h13m36s)



[away because you know our void returning](https://youtu.be/pz1MYpZ93UA?t=01h13m47s)



[huzzah](https://youtu.be/pz1MYpZ93UA?t=01h13m53s)



[okay so what is your problem with it](https://youtu.be/pz1MYpZ93UA?t=01h13m58s)



[okay let's collapse this you're just in](https://youtu.be/pz1MYpZ93UA?t=01h14m01s)



[the way](https://youtu.be/pz1MYpZ93UA?t=01h14m03s)



[let's see list configuration middleware](https://youtu.be/pz1MYpZ93UA?t=01h14m04s)



[right and this is assuredly where our](https://youtu.be/pz1MYpZ93UA?t=01h14m11s)



[problem lies because this is the](https://youtu.be/pz1MYpZ93UA?t=01h14m16s)



[collection that's being added into oh](https://youtu.be/pz1MYpZ93UA?t=01h14m20s)



[sure will will update will update to the](https://youtu.be/pz1MYpZ93UA?t=01h14m22s)



[fancy new pretty operator so for those](https://youtu.be/pz1MYpZ93UA?t=01h14m27s)



[people who didn't catch that there is a](https://youtu.be/pz1MYpZ93UA?t=01h14m33s)



[new operator so when you previously had](https://youtu.be/pz1MYpZ93UA?t=01h14m36s)



[to do the know coalescing and then](https://youtu.be/pz1MYpZ93UA?t=01h14m41s)



[effectively do a setter on it and](https://youtu.be/pz1MYpZ93UA?t=01h14m46s)



[something you can now do that in a](https://youtu.be/pz1MYpZ93UA?t=01h14m47s)



[single line because c-sharp is awesome](https://youtu.be/pz1MYpZ93UA?t=01h14m50s)



[and the creator's like to make it so](https://youtu.be/pz1MYpZ93UA?t=01h14m55s)



[that anything that we have to type](https://youtu.be/pz1MYpZ93UA?t=01h14m59s)



[repeatedly we don't have to anymore](https://youtu.be/pz1MYpZ93UA?t=01h15m00s)



[which is awesome okay so in our unit](https://youtu.be/pz1MYpZ93UA?t=01h15m02s)



[tests we're adding a piece of middleware](https://youtu.be/pz1MYpZ93UA?t=01h15m08s)



[to our configuration list which is what](https://youtu.be/pz1MYpZ93UA?t=01h15m10s)



[this used middleware ultimately ends up](https://youtu.be/pz1MYpZ93UA?t=01h15m13s)



[doing so this extension method here](https://youtu.be/pz1MYpZ93UA?t=01h15m15s)



[calls builder add middleware which](https://youtu.be/pz1MYpZ93UA?t=01h15m18s)



[registers up](https://youtu.be/pz1MYpZ93UA?t=01h15m21s)



[and add something to the list that may](https://youtu.be/pz1MYpZ93UA?t=01h15m28s)



[change my mind on where this needs to go](https://youtu.be/pz1MYpZ93UA?t=01h15m37s)



[because we no longer have the problem of](https://youtu.be/pz1MYpZ93UA?t=01h15m40s)



[a synchronous main method needing to](https://youtu.be/pz1MYpZ93UA?t=01h15m43s)



[call an asynchronous command handler but](https://youtu.be/pz1MYpZ93UA?t=01h15m47s)



[we also have a synchronous main needing](https://youtu.be/pz1MYpZ93UA?t=01h15m50s)



[to call a synchronous middleware which](https://youtu.be/pz1MYpZ93UA?t=01h15m53s)



[is effectively one of the cases that's](https://youtu.be/pz1MYpZ93UA?t=01h15m58s)



[being tested here in that we expect that](https://youtu.be/pz1MYpZ93UA?t=01h16m00s)



[if this middleware goes to throw an](https://youtu.be/pz1MYpZ93UA?t=01h16m04s)



[exception that that exception properly](https://youtu.be/pz1MYpZ93UA?t=01h16m06s)



[propagates all the way up which it's not](https://youtu.be/pz1MYpZ93UA?t=01h16m08s)



[it's being swallowed right now which is](https://youtu.be/pz1MYpZ93UA?t=01h16m10s)



[all coming about because of the](https://youtu.be/pz1MYpZ93UA?t=01h16m17s)



[obnoxious way that I implemented this](https://youtu.be/pz1MYpZ93UA?t=01h16m20s)



[because if we go back to this delegate](https://youtu.be/pz1MYpZ93UA?t=01h16m25s)



[that guy is now happy this guy is now](https://youtu.be/pz1MYpZ93UA?t=01h16m28s)



[happy because the command handler stuff](https://youtu.be/pz1MYpZ93UA?t=01h16m35s)



[is effectively being implemented as a](https://youtu.be/pz1MYpZ93UA?t=01h16m43s)



[middleware](https://youtu.be/pz1MYpZ93UA?t=01h16m45s)



[I'm going back to where we had it before](https://youtu.be/pz1MYpZ93UA?t=01h16m55s)



[I think that is the better approach](https://youtu.be/pz1MYpZ93UA?t=01h16m57s)



[because we don't really have synchronous](https://youtu.be/pz1MYpZ93UA?t=01h17m06s)



[middleware what was that an async](https://youtu.be/pz1MYpZ93UA?t=01h17m10s)



[delegate yeah so a synchronous delegate](https://youtu.be/pz1MYpZ93UA?t=01h17m14s)



[passes all the way through that works](https://youtu.be/pz1MYpZ93UA?t=01h17m19s)



[that works that works](https://youtu.be/pz1MYpZ93UA?t=01h17m23s)



[this becomes task completed and then](https://youtu.be/pz1MYpZ93UA?t=01h17m24s)



[where we previous where we previously](https://youtu.be/pz1MYpZ93UA?t=01h17m30s)



[had to await it here we will do a task](https://youtu.be/pz1MYpZ93UA?t=01h17m33s)



[start run actually we can just do wait -](https://youtu.be/pz1MYpZ93UA?t=01h17m38s)



[I guess we end up with this right and](https://youtu.be/pz1MYpZ93UA?t=01h17m53s)



[that that's very let's verify that this](https://youtu.be/pz1MYpZ93UA?t=01h18m02s)



[works the fact that this is swallowing](https://youtu.be/pz1MYpZ93UA?t=01h18m05s)



[the exceptions as being somewhat](https://youtu.be/pz1MYpZ93UA?t=01h18m12s)



[problematic](https://youtu.be/pz1MYpZ93UA?t=01h18m15s)



[they would like this to bubble all the](https://youtu.be/pz1MYpZ93UA?t=01h18m26s)



[way through something then back my mind](https://youtu.be/pz1MYpZ93UA?t=01h18m28s)



[is telling me that that's expected there](https://youtu.be/pz1MYpZ93UA?t=01h18m31s)



[we go there we go okay I'm thinking this](https://youtu.be/pz1MYpZ93UA?t=01h18m33s)



[is the appropriate place to implement](https://youtu.be/pz1MYpZ93UA?t=01h18m43s)



[the cheater approach because if we try](https://youtu.be/pz1MYpZ93UA?t=01h18m45s)



[to do it further down we run into this](https://youtu.be/pz1MYpZ93UA?t=01h18m48s)



[problem of users can effectively not](https://youtu.be/pz1MYpZ93UA?t=01h18m53s)



[necessarily have their own callbacks at](https://youtu.be/pz1MYpZ93UA?t=01h18m56s)



[the command handler but they can have](https://youtu.be/pz1MYpZ93UA?t=01h18m57s)



[arbitrary callbacks at the middleware](https://youtu.be/pz1MYpZ93UA?t=01h18m59s)



[yeah so let's go team Explorer real](https://youtu.be/pz1MYpZ93UA?t=01h19m05s)



[quick](https://youtu.be/pz1MYpZ93UA?t=01h19m08s)



[let's see command handler let's move you](https://youtu.be/pz1MYpZ93UA?t=01h19m09s)



[over here unit tests out of the way so](https://youtu.be/pz1MYpZ93UA?t=01h19m14s)



[throw away that change because we don't](https://youtu.be/pz1MYpZ93UA?t=01h19m17s)



[need it anymore we are only going to](https://youtu.be/pz1MYpZ93UA?t=01h19m21s)



[invoke directly compare with unmodified](https://youtu.be/pz1MYpZ93UA?t=01h19m23s)



[I think this guy here command handler](https://youtu.be/pz1MYpZ93UA?t=01h19m26s)



[goes away as well don't need it let's](https://youtu.be/pz1MYpZ93UA?t=01h19m31s)



[see here let's just continue down the](https://youtu.be/pz1MYpZ93UA?t=01h19m38s)



[list let's make sure this works so](https://youtu.be/pz1MYpZ93UA?t=01h19m43s)



[there's all the invoke overloads this](https://youtu.be/pz1MYpZ93UA?t=01h19m49s)



[one we want to throw away because that's](https://youtu.be/pz1MYpZ93UA?t=01h20m00s)



[a horrible name for a delegate](https://youtu.be/pz1MYpZ93UA?t=01h20m04s)



[okay and this is effectively our cheater](https://youtu.be/pz1MYpZ93UA?t=01h20m13s)



[approach here where it builds it up and](https://youtu.be/pz1MYpZ93UA?t=01h20m15s)



[model binding command handler I think](https://youtu.be/pz1MYpZ93UA?t=01h20m21s)



[this is where yeah we no longer need](https://youtu.be/pz1MYpZ93UA?t=01h20m24s)



[that anymore so we keep it simple we](https://youtu.be/pz1MYpZ93UA?t=01h20m27s)



[hijack it at the invocation pipeline and](https://youtu.be/pz1MYpZ93UA?t=01h20m32s)



[everything works and I think this is](https://youtu.be/pz1MYpZ93UA?t=01h20m39s)



[just the operator update yeah so we'll](https://youtu.be/pz1MYpZ93UA?t=01h20m41s)



[flatten that in okay so close old](https://youtu.be/pz1MYpZ93UA?t=01h20m45s)



[documents and let's just real quick make](https://youtu.be/pz1MYpZ93UA?t=01h20m52s)



[sure I'm not crazy and that all our](https://youtu.be/pz1MYpZ93UA?t=01h20m56s)



[tests still run I think we're probably](https://youtu.be/pz1MYpZ93UA?t=01h20m57s)



[pretty close with each of these because](https://youtu.be/pz1MYpZ93UA?t=01h21m04s)



[the next thing that I would like to do](https://youtu.be/pz1MYpZ93UA?t=01h21m07s)



[before we jump all the way up into](https://youtu.be/pz1MYpZ93UA?t=01h21m08s)



[dragon fruit is go back and look at](https://youtu.be/pz1MYpZ93UA?t=01h21m10s)



[these methods once we verify that all](https://youtu.be/pz1MYpZ93UA?t=01h21m12s)



[our tests are passing and do a little](https://youtu.be/pz1MYpZ93UA?t=01h21m14s)



[refactoring because we have a lot of](https://youtu.be/pz1MYpZ93UA?t=01h21m16s)



[duplicated code that I think can be](https://youtu.be/pz1MYpZ93UA?t=01h21m22s)



[reduced into ace into some shared](https://youtu.be/pz1MYpZ93UA?t=01h21m26s)



[methods like even these where there's](https://youtu.be/pz1MYpZ93UA?t=01h21m30s)



[just invoke methods this bit is](https://youtu.be/pz1MYpZ93UA?t=01h21m33s)



[duplicated across and or at least this](https://youtu.be/pz1MYpZ93UA?t=01h21m36s)



[much is and there is no reason that it](https://youtu.be/pz1MYpZ93UA?t=01h21m41s)



[needs to be so I think we could well](https://youtu.be/pz1MYpZ93UA?t=01h21m44s)



[yeah we'll see I think there there's](https://youtu.be/pz1MYpZ93UA?t=01h21m49s)



[room for improvement I think we'll start](https://youtu.be/pz1MYpZ93UA?t=01h21m52s)



[with the invocation pipeline though this](https://youtu.be/pz1MYpZ93UA?t=01h21m56s)



[is probably the biggest biggest hurdle](https://youtu.be/pz1MYpZ93UA?t=01h21m59s)



[is this guy right here](https://youtu.be/pz1MYpZ93UA?t=01h22m03s)



[but again I want to make sure that all](https://youtu.be/pz1MYpZ93UA?t=01h22m06s)



[my tests pass before before I get too](https://youtu.be/pz1MYpZ93UA?t=01h22m09s)



[carried away and just start hacking it](https://youtu.be/pz1MYpZ93UA?t=01h22m12s)



[code and replacing stuff okay I'll click](https://youtu.be/pz1MYpZ93UA?t=01h22m14s)



[playing around I'll wait for the unit](https://youtu.be/pz1MYpZ93UA?t=01h22m17s)



[test run to finish come on come on](https://youtu.be/pz1MYpZ93UA?t=01h22m19s)



[you can do it you can do it](https://youtu.be/pz1MYpZ93UA?t=01h22m24s)



[whoo man these streaming really does](https://youtu.be/pz1MYpZ93UA?t=01h22m35s)



[slow down the running of Visual Studio I](https://youtu.be/pz1MYpZ93UA?t=01h22m40s)



[think there's a competition to see who](https://youtu.be/pz1MYpZ93UA?t=01h22m43s)



[can chew up the most memory and CPU okay](https://youtu.be/pz1MYpZ93UA?t=01h22m46s)



[well that's thinking I'm gonna go start](https://youtu.be/pz1MYpZ93UA?t=01h22m57s)



[looking at this and location pipeline](https://youtu.be/pz1MYpZ93UA?t=01h22m59s)



[okay so we've got collapse you collapse](https://youtu.be/pz1MYpZ93UA?t=01h23m06s)



[you okay so we've got these two methods](https://youtu.be/pz1MYpZ93UA?t=01h23m10s)



[invoke async and invoke and effectively](https://youtu.be/pz1MYpZ93UA?t=01h23m13s)



[this much is all the same in fact](https://youtu.be/pz1MYpZ93UA?t=01h23m20s)



[everything is the same except for this](https://youtu.be/pz1MYpZ93UA?t=01h23m24s)



[one line right here so I'm thinking we](https://youtu.be/pz1MYpZ93UA?t=01h23m27s)



[can combine some code because that's a](https://youtu.be/pz1MYpZ93UA?t=01h23m32s)



[lot of duplication so I think the first](https://youtu.be/pz1MYpZ93UA?t=01h23m34s)



[thing we do is probably start whacking](https://youtu.be/pz1MYpZ93UA?t=01h23m40s)



[some of these VARs yeah so all the tests](https://youtu.be/pz1MYpZ93UA?t=01h23m43s)



[pass](https://youtu.be/pz1MYpZ93UA?t=01h23m53s)



[great so private void foo for the moment](https://youtu.be/pz1MYpZ93UA?t=01h23m53s)



[till we figure out what we're doing here](https://youtu.be/pz1MYpZ93UA?t=01h24m05s)



[and I think I'm gonna bring this guy](https://youtu.be/pz1MYpZ93UA?t=01h24m08s)



[down let's get rid of this bar real](https://youtu.be/pz1MYpZ93UA?t=01h24m12s)



[quick cuz I think this invocation](https://youtu.be/pz1MYpZ93UA?t=01h24m17s)



[middleware I think this much we we just](https://youtu.be/pz1MYpZ93UA?t=01h24m21s)



[want to take wholesale right so let's go](https://youtu.be/pz1MYpZ93UA?t=01h24m28s)



[with a console console bring that in](https://youtu.be/pz1MYpZ93UA?t=01h24m35s)



[let's see how about build in](https://youtu.be/pz1MYpZ93UA?t=01h24m43s)



[location chain and we'll return the](https://youtu.be/pz1MYpZ93UA?t=01h24m49s)



[middle we're back don't try that again](https://youtu.be/pz1MYpZ93UA?t=01h24m53s)



[that and return so this becomes filled](https://youtu.be/pz1MYpZ93UA?t=01h24m58s)



[invocation chain passing our console and](https://youtu.be/pz1MYpZ93UA?t=01h25m12s)



[all of this goes away right oh so this](https://youtu.be/pz1MYpZ93UA?t=01h25m17s)



[guy is still going to want see context](https://youtu.be/pz1MYpZ93UA?t=01h25m25s)



[and context context context okay so we](https://youtu.be/pz1MYpZ93UA?t=01h25m33s)



[changed this guy up so rather than](https://youtu.be/pz1MYpZ93UA?t=01h25m40s)



[taking it an i console he'll take in the](https://youtu.be/pz1MYpZ93UA?t=01h25m42s)



[context and it will bring this guy back](https://youtu.be/pz1MYpZ93UA?t=01h25m45s)



[outside and this becomes context simple](https://youtu.be/pz1MYpZ93UA?t=01h25m50s)



[enough so this gets a little better we](https://youtu.be/pz1MYpZ93UA?t=01h25m59s)



[take everything up from here and well](https://youtu.be/pz1MYpZ93UA?t=01h26m05s)



[let's just change this to be build and](https://youtu.be/pz1MYpZ93UA?t=01h26m10s)



[location chain context all of this goes](https://youtu.be/pz1MYpZ93UA?t=01h26m15s)



[away that cleans all of that up okay](https://youtu.be/pz1MYpZ93UA?t=01h26m22s)



[that up okay and all of this is just to](https://youtu.be/pz1MYpZ93UA?t=01h26m29s)



[get the result code](https://youtu.be/pz1MYpZ93UA?t=01h26m39s)



[a method can be made static excellent](https://youtu.be/pz1MYpZ93UA?t=01h26m45s)



[private static int process or apply](https://youtu.be/pz1MYpZ93UA?t=01h26m56s)



[results apply invocation result seems](https://youtu.be/pz1MYpZ93UA?t=01h27m07s)



[wrong that let's see this guy really](https://youtu.be/pz1MYpZ93UA?t=01h27m12s)



[should just take the context and we're](https://youtu.be/pz1MYpZ93UA?t=01h27m19s)



[gonna bring you in and you in and return](https://youtu.be/pz1MYpZ93UA?t=01h27m27s)



[turn apply results not sure I like that](https://youtu.be/pz1MYpZ93UA?t=01h27m37s)



[method but it'll do for now and then](https://youtu.be/pz1MYpZ93UA?t=01h27m42s)



[this becomes a term apply result context](https://youtu.be/pz1MYpZ93UA?t=01h27m49s)



[okay so that cleans that up I don't know](https://youtu.be/pz1MYpZ93UA?t=01h27m56s)



[if there's much more usefulness that can](https://youtu.be/pz1MYpZ93UA?t=01h28m00s)



[happen from this let's first make sure](https://youtu.be/pz1MYpZ93UA?t=01h28m04s)



[we haven't broken anything and I'm](https://youtu.be/pz1MYpZ93UA?t=01h28m10s)



[trying to think of a better name for](https://youtu.be/pz1MYpZ93UA?t=01h28m18s)



[this apply result method because it](https://youtu.be/pz1MYpZ93UA?t=01h28m19s)



[checks the invocation result applies it](https://youtu.be/pz1MYpZ93UA?t=01h28m26s)



[to the context and then grabs the result](https://youtu.be/pz1MYpZ93UA?t=01h28m30s)



[code from the context](https://youtu.be/pz1MYpZ93UA?t=01h28m34s)



[I'm wondering if you get result code](https://youtu.be/pz1MYpZ93UA?t=01h28m52s)



[makes more sense](https://youtu.be/pz1MYpZ93UA?t=01h28m55s)



[they can get result code might make more](https://youtu.be/pz1MYpZ93UA?t=01h29m06s)



[sense let this thing run first and then](https://youtu.be/pz1MYpZ93UA?t=01h29m09s)



[we'll just do the rename I think get](https://youtu.be/pz1MYpZ93UA?t=01h29m13s)



[result code is going to be the winner](https://youtu.be/pz1MYpZ93UA?t=01h29m15s)



[yeah you're sold code and I lied about](https://youtu.be/pz1MYpZ93UA?t=01h29m18s)



[waiting I'm impatient so let's go back](https://youtu.be/pz1MYpZ93UA?t=01h29m21s)



[here and look at our other guy location](https://youtu.be/pz1MYpZ93UA?t=01h29m28s)



[extensions](https://youtu.be/pz1MYpZ93UA?t=01h29m32s)



[this guy here has its user middleware](https://youtu.be/pz1MYpZ93UA?t=01h29m41s)



[use debug directives so we tried not to](https://youtu.be/pz1MYpZ93UA?t=01h29m47s)



[not be too opinionated on the API for](https://youtu.be/pz1MYpZ93UA?t=01h29m51s)



[this because some people like fluent](https://youtu.be/pz1MYpZ93UA?t=01h29m55s)



[syntax](https://youtu.be/pz1MYpZ93UA?t=01h29m57s)



[some people don't but at least when it](https://youtu.be/pz1MYpZ93UA?t=01h29m58s)



[comes to building up this command-line](https://youtu.be/pz1MYpZ93UA?t=01h30m03s)



[builder the Builder itself does follow a](https://youtu.be/pz1MYpZ93UA?t=01h30m06s)



[fluent syntax the Builder pattern really](https://youtu.be/pz1MYpZ93UA?t=01h30m08s)



[lends itself well to that so that one](https://youtu.be/pz1MYpZ93UA?t=01h30m11s)



[does exist okay so we've got all of](https://youtu.be/pz1MYpZ93UA?t=01h30m15s)



[these invoke a sink this parse room this](https://youtu.be/pz1MYpZ93UA?t=01h30m18s)



[builder here might be the only only bit](https://youtu.be/pz1MYpZ93UA?t=01h30m27s)



[that is that I could reuse because](https://youtu.be/pz1MYpZ93UA?t=01h30m32s)



[effectively the difference is this](https://youtu.be/pz1MYpZ93UA?t=01h30m39s)



[invoke async](https://youtu.be/pz1MYpZ93UA?t=01h30m42s)



[I guess building out the parse result](https://youtu.be/pz1MYpZ93UA?t=01h30m44s)



[could be shared yeah let's let's share](https://youtu.be/pz1MYpZ93UA?t=01h30m48s)



[that so private static this isn't clear](https://youtu.be/pz1MYpZ93UA?t=01h30m54s)



[what this is parse results what do we](https://youtu.be/pz1MYpZ93UA?t=01h31m00s)



[call this parse for now I'll just bring](https://youtu.be/pz1MYpZ93UA?t=01h31m11s)



[this stuff down let's see because you're](https://youtu.be/pz1MYpZ93UA?t=01h31m17s)



[going to need a command](https://youtu.be/pz1MYpZ93UA?t=01h31m23s)



[the command and you're going to need](https://youtu.be/pz1MYpZ93UA?t=01h31m31s)



[some string args nope one too many](https://youtu.be/pz1MYpZ93UA?t=01h31m36s)



[things that gets that much through let's](https://youtu.be/pz1MYpZ93UA?t=01h31m42s)



[see just verifying this does take a](https://youtu.be/pz1MYpZ93UA?t=01h31m51s)



[command all the way through and this is](https://youtu.be/pz1MYpZ93UA?t=01h31m54s)



[effectively just straight return parse](https://youtu.be/pz1MYpZ93UA?t=01h31m59s)



[with defaults so this becomes parse with](https://youtu.be/pz1MYpZ93UA?t=01h32m06s)



[default too many parses too many parses](https://youtu.be/pz1MYpZ93UA?t=01h32m16s)



[cool it down cool it down there we go](https://youtu.be/pz1MYpZ93UA?t=01h32m21s)



[something more like that](https://youtu.be/pz1MYpZ93UA?t=01h32m25s)



[I'm wondering if we should go one step](https://youtu.be/pz1MYpZ93UA?t=01h32m36s)



[further and return the invocation](https://youtu.be/pz1MYpZ93UA?t=01h32m39s)



[pipeline](https://youtu.be/pz1MYpZ93UA?t=01h32m41s)



[too much I don't know I always have](https://youtu.be/pz1MYpZ93UA?t=01h33m12s)



[mixed feelings about sometimes trying to](https://youtu.be/pz1MYpZ93UA?t=01h33m18s)



[do these types of reef actors you it's](https://youtu.be/pz1MYpZ93UA?t=01h33m21s)



[easy to get into the habit of two things](https://youtu.be/pz1MYpZ93UA?t=01h33m23s)



[look alike therefore they should do the](https://youtu.be/pz1MYpZ93UA?t=01h33m27s)



[same thing and I'm not just trying to](https://youtu.be/pz1MYpZ93UA?t=01h33m29s)



[decide if this is come on come on get](https://youtu.be/pz1MYpZ93UA?t=01h33m41s)



[invocation pipelined command args it's](https://youtu.be/pz1MYpZ93UA?t=01h33m53s)



[that a better looking API I mean it](https://youtu.be/pz1MYpZ93UA?t=01h33m58s)



[certainly reduces this down to a](https://youtu.be/pz1MYpZ93UA?t=01h34m06s)



[one-liner is that good](https://youtu.be/pz1MYpZ93UA?t=01h34m10s)



[and there's an argument to be made that](https://youtu.be/pz1MYpZ93UA?t=01h34m24s)



[these things should be separated but for](https://youtu.be/pz1MYpZ93UA?t=01h34m27s)



[now we're going with it because that](https://youtu.be/pz1MYpZ93UA?t=01h34m30s)



[will at least save us a teeny bit of](https://youtu.be/pz1MYpZ93UA?t=01h34m42s)



[code and in a lot of cases the phils one](https://youtu.be/pz1MYpZ93UA?t=01h34m45s)



[liner type methods the compiler will](https://youtu.be/pz1MYpZ93UA?t=01h34m52s)



[inline which might very well help so](https://youtu.be/pz1MYpZ93UA?t=01h34m55s)



[let's go ahead just make sure I don't](https://youtu.be/pz1MYpZ93UA?t=01h35m00s)



[think we've broken anything here rerun](https://youtu.be/pz1MYpZ93UA?t=01h35m03s)



[those and then let's go and work our way](https://youtu.be/pz1MYpZ93UA?t=01h35m09s)



[back up because we made some changes to](https://youtu.be/pz1MYpZ93UA?t=01h35m11s)



[dragon fruit and I believe we have some](https://youtu.be/pz1MYpZ93UA?t=01h35m15s)



[reasonable unit tests on this so execute](https://youtu.be/pz1MYpZ93UA?t=01h35m21s)



[assembly let's go let's go look at the](https://youtu.be/pz1MYpZ93UA?t=01h35m26s)



[unit tests on that and see what needs to](https://youtu.be/pz1MYpZ93UA?t=01h35m31s)



[be done and then after those are passing](https://youtu.be/pz1MYpZ93UA?t=01h35m33s)



[we will go through and see about](https://youtu.be/pz1MYpZ93UA?t=01h35m36s)



[actually running it the hard part for](https://youtu.be/pz1MYpZ93UA?t=01h35m45s)



[this is part of what system command](https://youtu.be/pz1MYpZ93UA?t=01h35m47s)



[light or yes system command line dragon](https://youtu.be/pz1MYpZ93UA?t=01h35m49s)



[fruit does is this entry point discover](https://youtu.be/pz1MYpZ93UA?t=01h35m52s)



[and an execution on that so there might](https://youtu.be/pz1MYpZ93UA?t=01h35m56s)



[not be there might not be that many unit](https://youtu.be/pz1MYpZ93UA?t=01h35m59s)



[tests directly on that method let's just](https://youtu.be/pz1MYpZ93UA?t=01h36m03s)



[pin you for the moment you go ahead and](https://youtu.be/pz1MYpZ93UA?t=01h36m09s)



[sit on the side because it wants to act](https://youtu.be/pz1MYpZ93UA?t=01h36m13s)



[on an assembly which means it would have](https://youtu.be/pz1MYpZ93UA?t=01h36m19s)



[to have a compiled assembly to act on](https://youtu.be/pz1MYpZ93UA?t=01h36m21s)



[let's take a quick peek](https://youtu.be/pz1MYpZ93UA?t=01h36m25s)



[spend out dragonfruit](https://youtu.be/pz1MYpZ93UA?t=01h36m30s)



[command line because there's those](https://youtu.be/pz1MYpZ93UA?t=01h36m32s)



[command line tests execute assembly](https://youtu.be/pz1MYpZ93UA?t=01h36m35s)



[async](https://youtu.be/pz1MYpZ93UA?t=01h36m38s)



[that's the imports fortunate part no](https://youtu.be/pz1MYpZ93UA?t=01h36m41s)



[reference oh six references where are](https://youtu.be/pz1MYpZ93UA?t=01h36m44s)



[they oh let's see](https://youtu.be/pz1MYpZ93UA?t=01h36m47s)



[perf and dragon fruit and then the](https://youtu.be/pz1MYpZ93UA?t=01h36m51s)



[rendering playground not helpful](https://youtu.be/pz1MYpZ93UA?t=01h37m02s)



[our fax oej sure version is there are no](https://youtu.be/pz1MYpZ93UA?t=01h37m20s)



[direct tests on this guy the hard part](https://youtu.be/pz1MYpZ93UA?t=01h37m26s)



[being that this would require a an entry](https://youtu.be/pz1MYpZ93UA?t=01h37m30s)



[assembly entry point full type name XML](https://youtu.be/pz1MYpZ93UA?t=01h37m34s)



[Doc's oh boy oh boy oh boy oh boy](https://youtu.be/pz1MYpZ93UA?t=01h37m39s)



[so let's see entry point](https://youtu.be/pz1MYpZ93UA?t=01h38m02s)



[not a lot of code sharing to be had here](https://youtu.be/pz1MYpZ93UA?t=01h38m12s)



[though there's definitely a need for](https://youtu.be/pz1MYpZ93UA?t=01h38m15s)



[unit testing over these methods the](https://youtu.be/pz1MYpZ93UA?t=01h38m18s)



[problem being to test something that](https://youtu.be/pz1MYpZ93UA?t=01h38m21s)



[takes in an assembly probably means](https://youtu.be/pz1MYpZ93UA?t=01h38m23s)



[reflection omit to generate the assembly](https://youtu.be/pz1MYpZ93UA?t=01h38m27s)



[on the fly](https://youtu.be/pz1MYpZ93UA?t=01h38m30s)



[trying to think if there's a better](https://youtu.be/pz1MYpZ93UA?t=01h38m32s)



[option because that is ugly ugly ugly](https://youtu.be/pz1MYpZ93UA?t=01h38m34s)



[ugly it's certainly certainly doable I](https://youtu.be/pz1MYpZ93UA?t=01h38m38s)



[was thinking for now given that this one](https://youtu.be/pz1MYpZ93UA?t=01h38m45s)



[wasn't unit tested I might just not](https://youtu.be/pz1MYpZ93UA?t=01h38m47s)



[bother with this one at the moment](https://youtu.be/pz1MYpZ93UA?t=01h38m50s)



[and let this guy go](https://youtu.be/pz1MYpZ93UA?t=01h38m56s)



[I think that makes it simplest okay so](https://youtu.be/pz1MYpZ93UA?t=01h39m00s)



[with that said let's go and see about](https://youtu.be/pz1MYpZ93UA?t=01h39m09s)



[submitting a pull request I've already](https://youtu.be/pz1MYpZ93UA?t=01h39m11s)



[forgot my issue number so let's back up](https://youtu.be/pz1MYpZ93UA?t=01h39m17s)



[let's see not that one this one for 12](https://youtu.be/pz1MYpZ93UA?t=01h39m19s)



[excellent so branches a new local branch](https://youtu.be/pz1MYpZ93UA?t=01h39m25s)



[fix for 12 created off master what am i](https://youtu.be/pz1MYpZ93UA?t=01h39m32s)



[doing I've got a cracking open let's go](https://youtu.be/pz1MYpZ93UA?t=01h39m38s)



[let's go play on cracking for the moment](https://youtu.be/pz1MYpZ93UA?t=01h39m42s)



[so a new branch great think we want all](https://youtu.be/pz1MYpZ93UA?t=01h39m44s)



[of our changes so let's stage them all](https://youtu.be/pz1MYpZ93UA?t=01h39m49s)



[and just quickly quickly scan them again](https://youtu.be/pz1MYpZ93UA?t=01h39m51s)



[just to make sure it is always a good](https://youtu.be/pz1MYpZ93UA?t=01h39m55s)



[idea to review your commit before](https://youtu.be/pz1MYpZ93UA?t=01h39m57s)



[pushing it so execute oh I forgot about](https://youtu.be/pz1MYpZ93UA?t=01h40m01s)



[invoke method](https://youtu.be/pz1MYpZ93UA?t=01h40m07s)



[what and this is what I'm glad we](https://youtu.be/pz1MYpZ93UA?t=01h40m15s)



[checked because this one I believe does](https://youtu.be/pz1MYpZ93UA?t=01h40m18s)



[have you know I believe this one](https://youtu.be/pz1MYpZ93UA?t=01h40m25s)



[actually does have unit tests on it](https://youtu.be/pz1MYpZ93UA?t=01h40m29s)



[because it's much easier to unit test a](https://youtu.be/pz1MYpZ93UA?t=01h40m31s)



[method info command line tests yes it](https://youtu.be/pz1MYpZ93UA?t=01h40m34s)



[does yes it does](https://youtu.be/pz1MYpZ93UA?t=01h40m41s)



[okay so we we want to duplicate these](https://youtu.be/pz1MYpZ93UA?t=01h40m50s)



[okay so we do we do want to do a little](https://youtu.be/pz1MYpZ93UA?t=01h40m59s)



[work here okay so before we get carried](https://youtu.be/pz1MYpZ93UA?t=01h41m02s)



[away let's get the unit test working](https://youtu.be/pz1MYpZ93UA?t=01h41m04s)



[okay so this becomes avoid we need to](https://youtu.be/pz1MYpZ93UA?t=01h41m09s)



[have a better name this becomes invoke](https://youtu.be/pz1MYpZ93UA?t=01h41m14s)



[method this becomes a weight test](https://youtu.be/pz1MYpZ93UA?t=01h41m16s)



[program test method info](https://youtu.be/pz1MYpZ93UA?t=01h41m23s)



[this is asynchronous method execute](https://youtu.be/pz1MYpZ93UA?t=01h41m31s)



[sinker](https://youtu.be/pz1MYpZ93UA?t=01h41m47s)



[also if it wasn't clear my spelling is](https://youtu.be/pz1MYpZ93UA?t=01h41m55s)



[I'll say Lac](https://youtu.be/pz1MYpZ93UA?t=01h41m59s)



[so let's see so collapse collapse let's](https://youtu.be/pz1MYpZ93UA?t=01h42m11s)



[see it just help based on XML Doc's see](https://youtu.be/pz1MYpZ93UA?t=01h42m22s)



[all of these are I think fair game](https://youtu.be/pz1MYpZ93UA?t=01h42m29s)



[because ultimately what these are](https://youtu.be/pz1MYpZ93UA?t=01h42m31s)



[testing is the Builder configuration so](https://youtu.be/pz1MYpZ93UA?t=01h42m33s)



[this becomes not a sink and this becomes](https://youtu.be/pz1MYpZ93UA?t=01h42m40s)



[a void and to do to do to do to do to do](https://youtu.be/pz1MYpZ93UA?t=01h42m46s)



[thinking there's probably some code](https://youtu.be/pz1MYpZ93UA?t=01h43m01s)



[reuse that can be happening in here](https://youtu.be/pz1MYpZ93UA?t=01h43m04s)



[because most of these tests are not the](https://youtu.be/pz1MYpZ93UA?t=01h43m06s)



[invocation but the method here](https://youtu.be/pz1MYpZ93UA?t=01h43m08s)



[just grab this because I think this is](https://youtu.be/pz1MYpZ93UA?t=01h43m22s)



[I think that's ultimately what we're](https://youtu.be/pz1MYpZ93UA?t=01h43m29s)



[gonna end up doing here it's making a](https://youtu.be/pz1MYpZ93UA?t=01h43m31s)



[lot of these things just straight-up](https://youtu.be/pz1MYpZ93UA?t=01h43m35s)



[synchronous ooh nope](https://youtu.be/pz1MYpZ93UA?t=01h43m36s)



[clipboard pollution that one that goes](https://youtu.be/pz1MYpZ93UA?t=01h43m46s)



[away you become a void you become a](https://youtu.be/pz1MYpZ93UA?t=01h43m53s)



[synchronous call it does seem weird that](https://youtu.be/pz1MYpZ93UA?t=01h43m58s)



[these exit codes are testing for zero](https://youtu.be/pz1MYpZ93UA?t=01h44m01s)



[despite these methods both being void](https://youtu.be/pz1MYpZ93UA?t=01h44m03s)



[returns these unit tests are very much](https://youtu.be/pz1MYpZ93UA?t=01h44m07s)



[lacking there's a lot of cases in here](https://youtu.be/pz1MYpZ93UA?t=01h44m10s)



[that are not being covered](https://youtu.be/pz1MYpZ93UA?t=01h44m12s)



[this is passing a target of null just](https://youtu.be/pz1MYpZ93UA?t=01h44m23s)



[fine](https://youtu.be/pz1MYpZ93UA?t=01h44m27s)



[so let's private let's make that guy](https://youtu.be/pz1MYpZ93UA?t=01h44m28s)



[static](https://youtu.be/pz1MYpZ93UA?t=01h44m32s)



[this becomes a void this lacks the sink](https://youtu.be/pz1MYpZ93UA?t=01h44m50s)



[we dropped the weight and that all works](https://youtu.be/pz1MYpZ93UA?t=01h44m56s)



[and the last one let's see void here](https://youtu.be/pz1MYpZ93UA?t=01h45m01s)



[and we go here and here make sure that](https://youtu.be/pz1MYpZ93UA?t=01h45m19s)



[all works okay we run the dragon fruit](https://youtu.be/pz1MYpZ93UA?t=01h45m27s)



[tests let's make sure we didn't break](https://youtu.be/pz1MYpZ93UA?t=01h45m37s)



[anything and then I think there is room](https://youtu.be/pz1MYpZ93UA?t=01h45m39s)



[for these two methods we can certainly](https://youtu.be/pz1MYpZ93UA?t=01h45m44s)



[do something building up this parser is](https://youtu.be/pz1MYpZ93UA?t=01h45m46s)



[an easy easy win just make sure all](https://youtu.be/pz1MYpZ93UA?t=01h45m49s)



[these tests currently pass and we should](https://youtu.be/pz1MYpZ93UA?t=01h45m58s)



[be good](https://youtu.be/pz1MYpZ93UA?t=01h46m04s)



[Berbick okay private static parser build](https://youtu.be/pz1MYpZ93UA?t=01h46m08s)



[parser and we are just going to grab all](https://youtu.be/pz1MYpZ93UA?t=01h46m18s)



[this bring all of you down and let's see](https://youtu.be/pz1MYpZ93UA?t=01h46m23s)



[your return and we need method c xml](https://youtu.be/pz1MYpZ93UA?t=01h46m28s)



[docs and target need you three keep them](https://youtu.be/pz1MYpZ93UA?t=01h46m37s)



[in the same order there is no point in](https://youtu.be/pz1MYpZ93UA?t=01h46m42s)



[these things being optional private](https://youtu.be/pz1MYpZ93UA?t=01h46m46s)



[helper method so this then becomes build](https://youtu.be/pz1MYpZ93UA?t=01h46m50s)



[parser method xml docs and target wax](https://youtu.be/pz1MYpZ93UA?t=01h46m57s)



[this wax this then this is common shared](https://youtu.be/pz1MYpZ93UA?t=01h47m07s)



[code](https://youtu.be/pz1MYpZ93UA?t=01h47m12s)



[okay you're gonna test all the things go](https://youtu.be/pz1MYpZ93UA?t=01h47m19s)



[back and stage those additional changes](https://youtu.be/pz1MYpZ93UA?t=01h47m25s)



[okay so let's just double-check these](https://youtu.be/pz1MYpZ93UA?t=01h47m29s)



[does still bother me I want to share](https://youtu.be/pz1MYpZ93UA?t=01h47m37s)



[some of this code in the test and I'm](https://youtu.be/pz1MYpZ93UA?t=01h47m39s)



[not sure a great way to do it not sure](https://youtu.be/pz1MYpZ93UA?t=01h47m41s)



[there is a clean option](https://youtu.be/pz1MYpZ93UA?t=01h47m50s)



[yeah I'm I'm less concerned about those](https://youtu.be/pz1MYpZ93UA?t=01h48m00s)



[okay let's check command line you're](https://youtu.be/pz1MYpZ93UA?t=01h48m03s)



[still running](https://youtu.be/pz1MYpZ93UA?t=01h48m10s)



[okay so execute assembly we said we](https://youtu.be/pz1MYpZ93UA?t=01h48m11s)



[weren't gonna directly unit test instead](https://youtu.be/pz1MYpZ93UA?t=01h48m13s)



[will unit test the invoke method calls](https://youtu.be/pz1MYpZ93UA?t=01h48m17s)



[great oak extension tests same thing all](https://youtu.be/pz1MYpZ93UA?t=01h48m22s)



[the way down duplicate duplicate tests](https://youtu.be/pz1MYpZ93UA?t=01h48m30s)



[see invoke chooses the appropriate](https://youtu.be/pz1MYpZ93UA?t=01h48m36s)



[command](https://youtu.be/pz1MYpZ93UA?t=01h48m38s)



[these ones](https://youtu.be/pz1MYpZ93UA?t=01h48m46s)



[yeah that's fine it looks like we](https://youtu.be/pz1MYpZ93UA?t=01h49m04s)



[covered all of those unit tests that](https://youtu.be/pz1MYpZ93UA?t=01h49m06s)



[matter this is just the refactor for the](https://youtu.be/pz1MYpZ93UA?t=01h49m08s)



[new operator just great](https://youtu.be/pz1MYpZ93UA?t=01h49m11s)



[huzzah let's see here so invoke async](https://youtu.be/pz1MYpZ93UA?t=01h49m14s)



[invoke we've got a shared method down](https://youtu.be/pz1MYpZ93UA?t=01h49m18s)



[here](https://youtu.be/pz1MYpZ93UA?t=01h49m22s)



[it's adds an invoke a sink an invoke and](https://youtu.be/pz1MYpZ93UA?t=01h49m27s)



[cheater method down here shared logic](https://youtu.be/pz1MYpZ93UA?t=01h49m32s)



[before building up the middleware but](https://youtu.be/pz1MYpZ93UA?t=01h49m39s)



[let me cheat there perfect so fix is](https://youtu.be/pz1MYpZ93UA?t=01h49m41s)



[pound four one two and that is not a for](https://youtu.be/pz1MYpZ93UA?t=01h49m49s)



[this adds hey this overload for parser](https://youtu.be/pz1MYpZ93UA?t=01h49m58s)



[vote these days I'm gonna learn how to](https://youtu.be/pz1MYpZ93UA?t=01h50m07s)



[spell synchronous ah let's see](https://youtu.be/pz1MYpZ93UA?t=01h50m12s)



[parser invoke all so let's see that's](https://youtu.be/pz1MYpZ93UA?t=01h50m14s)



[effectively for location pipeline invoke](https://youtu.be/pz1MYpZ93UA?t=01h50m20s)



[this change propagates up parser dot](https://youtu.be/pz1MYpZ93UA?t=01h50m31s)



[invoke and system command line and up to](https://youtu.be/pz1MYpZ93UA?t=01h50m39s)



[was the command line](https://youtu.be/pz1MYpZ93UA?t=01h50m55s)



[mine the cute assembly in system command](https://youtu.be/pz1MYpZ93UA?t=01h51m03s)



[line dragon fruit](https://youtu.be/pz1MYpZ93UA?t=01h51m13s)



[dragon fruit perfect a change and great](https://youtu.be/pz1MYpZ93UA?t=01h51m19s)



[push let's see we can't go to origin go](https://youtu.be/pz1MYpZ93UA?t=01h51m32s)



[to my fork because I do not have pushed](https://youtu.be/pz1MYpZ93UA?t=01h51m38s)



[for missions all the way up into the](https://youtu.be/pz1MYpZ93UA?t=01h51m45s)



[dotnet system command line will pull](https://youtu.be/pz1MYpZ93UA?t=01h51m46s)



[request this guy in hopefully it gets](https://youtu.be/pz1MYpZ93UA?t=01h51m51s)



[reviewed and merged not too long so](https://youtu.be/pz1MYpZ93UA?t=01h51m55s)



[let's jump over here to pull requests](https://youtu.be/pz1MYpZ93UA?t=01h51m59s)



[and](https://youtu.be/pz1MYpZ93UA?t=01h52m03s)



[how does it not show up here maybe the](https://youtu.be/pz1MYpZ93UA?t=01h52m11s)



[helpful button is only on the root of](https://youtu.be/pz1MYpZ93UA?t=01h52m15s)



[the repo there we go hey give it back](https://youtu.be/pz1MYpZ93UA?t=01h52m17s)



[there you go](https://youtu.be/pz1MYpZ93UA?t=01h52m20s)



[I'm gonna move this down put a little](https://youtu.be/pz1MYpZ93UA?t=01h52m33s)



[bit better added the guy overloads to](https://youtu.be/pz1MYpZ93UA?t=01h52m37s)



[just kind of scan this real quick and](https://youtu.be/pz1MYpZ93UA?t=01h52m54s)



[make sure this still matches what we](https://youtu.be/pz1MYpZ93UA?t=01h52m56s)



[expect and that there's nothing nothing](https://youtu.be/pz1MYpZ93UA?t=01h52m57s)



[new nothing unexpected it's still just](https://youtu.be/pz1MYpZ93UA?t=01h53m00s)



[these same you know tests operator](https://youtu.be/pz1MYpZ93UA?t=01h53m06s)



[change invoke overloads shared method](https://youtu.be/pz1MYpZ93UA?t=01h53m09s)



[because this is effectively when](https://youtu.be/pz1MYpZ93UA?t=01h53m12s)



[somebody goes to review this what](https://youtu.be/pz1MYpZ93UA?t=01h53m15s)



[they're going to be looking at so going](https://youtu.be/pz1MYpZ93UA?t=01h53m17s)



[into master from my branch great great](https://youtu.be/pz1MYpZ93UA?t=01h53m20s)



[ball request](https://youtu.be/pz1MYpZ93UA?t=01h53m23s)



[perfect and we will let that guy cook](https://youtu.be/pz1MYpZ93UA?t=01h53m32s)



[and roll and hopefully that that goes](https://youtu.be/pz1MYpZ93UA?t=01h53m35s)



[through I'm gonna hold on here for just](https://youtu.be/pz1MYpZ93UA?t=01h53m39s)



[a little bit just to make sure that the](https://youtu.be/pz1MYpZ93UA?t=01h53m42s)



[CI build passes it can be a little bit](https://youtu.be/pz1MYpZ93UA?t=01h53m43s)



[problematic at times the kind of backing](https://youtu.be/pz1MYpZ93UA?t=01h53m47s)



[CI pipeline is called arcade and as you](https://youtu.be/pz1MYpZ93UA?t=01h53m51s)



[can see it it compiles for everything](https://youtu.be/pz1MYpZ93UA?t=01h53m54s)



[because we want to make sure it's tested](https://youtu.be/pz1MYpZ93UA?t=01h53m59s)



[across various configurations and](https://youtu.be/pz1MYpZ93UA?t=01h54m02s)



[operating systems and that kind of thing](https://youtu.be/pz1MYpZ93UA?t=01h54m04s)



[so just gonna let that guy](https://youtu.be/pz1MYpZ93UA?t=01h54m06s)



[chug for a little bit and then we will](https://youtu.be/pz1MYpZ93UA?t=01h54m11s)



[come back for so switching gears off of](https://youtu.be/pz1MYpZ93UA?t=01h54m13s)



[system command line for people who are](https://youtu.be/pz1MYpZ93UA?t=01h54m18s)



[interested I have been looking at an](https://youtu.be/pz1MYpZ93UA?t=01h54m21s)



[outline together for the material design](https://youtu.be/pz1MYpZ93UA?t=01h54m24s)



[and zamel stuff specifically for things](https://youtu.be/pz1MYpZ93UA?t=01h54m28s)



[to go into the three oh release I've](https://youtu.be/pz1MYpZ93UA?t=01h54m31s)



[been somewhat ignoring chat for a little](https://youtu.be/pz1MYpZ93UA?t=01h54m34s)



[bit just trying to get all of the](https://youtu.be/pz1MYpZ93UA?t=01h54m37s)



[documentation and pipeline work done for](https://youtu.be/pz1MYpZ93UA?t=01h54m39s)



[the two 6l release so anyone who's](https://youtu.be/pz1MYpZ93UA?t=01h54m42s)



[looked at the history has probably seen](https://youtu.be/pz1MYpZ93UA?t=01h54m44s)



[a huge number of yeah mole changes from](https://youtu.be/pz1MYpZ93UA?t=01h54m46s)



[me just trying to get stuff working it's](https://youtu.be/pz1MYpZ93UA?t=01h54m49s)



[been a good learning experience I'll say](https://youtu.be/pz1MYpZ93UA?t=01h54m53s)



[that but so hopefully that release is](https://youtu.be/pz1MYpZ93UA?t=01h54m54s)



[coming in the very near future as soon](https://youtu.be/pz1MYpZ93UA?t=01h54m59s)



[as I can get my act together and get the](https://youtu.be/pz1MYpZ93UA?t=01h55m02s)



[rest of those tasks done I've got a](https://youtu.be/pz1MYpZ93UA?t=01h55m04s)



[personal deadline of trying to have it](https://youtu.be/pz1MYpZ93UA?t=01h55m08s)



[done within this next week but don't](https://youtu.be/pz1MYpZ93UA?t=01h55m09s)



[hold me to that](https://youtu.be/pz1MYpZ93UA?t=01h55m12s)



[that is just a personal deadline of my](https://youtu.be/pz1MYpZ93UA?t=01h55m13s)



[own the other thing for people who are](https://youtu.be/pz1MYpZ93UA?t=01h55m15s)



[interested I did start working on what I](https://youtu.be/pz1MYpZ93UA?t=01h55m19s)



[think will be probably a quick series on](https://youtu.be/pz1MYpZ93UA?t=01h55m23s)



[using snoop for WPF debugging it I find](https://youtu.be/pz1MYpZ93UA?t=01h55m26s)



[that the the hardest skill to teach and](https://youtu.be/pz1MYpZ93UA?t=01h55m32s)



[explain to people is actually debugging](https://youtu.be/pz1MYpZ93UA?t=01h55m36s)



[technology and so I was figuring that a](https://youtu.be/pz1MYpZ93UA?t=01h55m40s)



[a short video series on that would](https://youtu.be/pz1MYpZ93UA?t=01h55m46s)



[probably be what go over well what I](https://youtu.be/pz1MYpZ93UA?t=01h55m48s)



[will probably do is just live stream it](https://youtu.be/pz1MYpZ93UA?t=01h55m51s)



[and send it through but then the videos](https://youtu.be/pz1MYpZ93UA?t=01h55m55s)



[that actually go up to YouTube I will](https://youtu.be/pz1MYpZ93UA?t=01h55m58s)



[probably spend the time and actually do](https://youtu.be/pz1MYpZ93UA?t=01h56m00s)



[some editing normally right now on all](https://youtu.be/pz1MYpZ93UA?t=01h56m02s)



[these videos because my free time is](https://youtu.be/pz1MYpZ93UA?t=01h56m05s)



[very limited and I'd rather spend it](https://youtu.be/pz1MYpZ93UA?t=01h56m07s)



[being productive rather than editing](https://youtu.be/pz1MYpZ93UA?t=01h56m09s)



[videos I've just been blind uploading](https://youtu.be/pz1MYpZ93UA?t=01h56m10s)



[all the videos straight so hopefully I](https://youtu.be/pz1MYpZ93UA?t=01h56m14s)



[get to that is its some time I won't](https://youtu.be/pz1MYpZ93UA?t=01h56m19s)



[promise but if people are interested in](https://youtu.be/pz1MYpZ93UA?t=01h56m23s)



[please shoot me a message on git er or](https://youtu.be/pz1MYpZ93UA?t=01h56m27s)



[you can get in contact with me I think](https://youtu.be/pz1MYpZ93UA?t=01h56m31s)



[most people probably have found my](https://youtu.be/pz1MYpZ93UA?t=01h56m33s)



[Twitter and got here from there if not I](https://youtu.be/pz1MYpZ93UA?t=01h56m35s)



[will I don't actually have it here one](https://youtu.be/pz1MYpZ93UA?t=01h56m39s)



[second we can grab this let's see here](https://youtu.be/pz1MYpZ93UA?t=01h56m44s)



[so let's grab I do this and I can grab](https://youtu.be/pz1MYpZ93UA?t=01h56m49s)



[this item and copy codeine and paste](https://youtu.be/pz1MYpZ93UA?t=01h57m00s)



[duplicate](https://youtu.be/pz1MYpZ93UA?t=01h57m10s)



[that is not what we were going for](https://youtu.be/pz1MYpZ93UA?t=01h57m17s)



[remove I might have to play around with](https://youtu.be/pz1MYpZ93UA?t=01h57m22s)



[this but for those people who are](https://youtu.be/pz1MYpZ93UA?t=01h57m25s)



[looking for me you can find me on](https://youtu.be/pz1MYpZ93UA?t=01h57m30s)



[twitter at ki t o ke b o o sweet looks](https://youtu.be/pz1MYpZ93UA?t=01h57m32s)



[like most of these are passing OS X and](https://youtu.be/pz1MYpZ93UA?t=01h57m39s)



[Ubuntu are done and it's just the](https://youtu.be/pz1MYpZ93UA?t=01h57m43s)



[Windows builds that we're waiting on](https://youtu.be/pz1MYpZ93UA?t=01h57m45s)



[just awesome Lee this guy all goes](https://youtu.be/pz1MYpZ93UA?t=01h57m47s)



[through nicely I think with that I am](https://youtu.be/pz1MYpZ93UA?t=01h57m52s)



[probably going to be signing off for the](https://youtu.be/pz1MYpZ93UA?t=01h57m56s)



[night it is getting close to my two hour](https://youtu.be/pz1MYpZ93UA?t=01h57m58s)



[mark where I usually try to call it](https://youtu.be/pz1MYpZ93UA?t=01h58m01s)



[quits but I will I will get this this](https://youtu.be/pz1MYpZ93UA?t=01h58m03s)



[guy merged in I don't know if it's going](https://youtu.be/pz1MYpZ93UA?t=01h58m07s)



[to necessarily make the a live stream or](https://youtu.be/pz1MYpZ93UA?t=01h58m11s)



[not unless people tell me that they're](https://youtu.be/pz1MYpZ93UA?t=01h58m14s)



[interested in doing it but the actual](https://youtu.be/pz1MYpZ93UA?t=01h58m16s)



[fix for this issue should now be](https://youtu.be/pz1MYpZ93UA?t=01h58m18s)



[possible now that the async main it's no](https://youtu.be/pz1MYpZ93UA?t=01h58m21s)



[longer going to be a requirement it](https://youtu.be/pz1MYpZ93UA?t=01h58m29s)



[should be possible to go through and](https://youtu.be/pz1MYpZ93UA?t=01h58m31s)



[generate up that targets file correctly](https://youtu.be/pz1MYpZ93UA?t=01h58m33s)



[because the comment here could the](https://youtu.be/pz1MYpZ93UA?t=01h58m35s)



[targets use a conditional that would](https://youtu.be/pz1MYpZ93UA?t=01h58m37s)



[output a synchronous main and the answer](https://youtu.be/pz1MYpZ93UA?t=01h58m38s)



[is yes that's a that's effectively](https://youtu.be/pz1MYpZ93UA?t=01h58m42s)



[exactly what needs to happen the problem](https://youtu.be/pz1MYpZ93UA?t=01h58m44s)



[before is generating a synchronous main](https://youtu.be/pz1MYpZ93UA?t=01h58m46s)



[wasn't actually possible because the API](https://youtu.be/pz1MYpZ93UA?t=01h58m48s)



[was a sink all the way down and we](https://youtu.be/pz1MYpZ93UA?t=01h58m53s)



[didn't want to do the the cheater mode](https://youtu.be/pz1MYpZ93UA?t=01h58m55s)



[for the sink over a sink at the root we](https://youtu.be/pz1MYpZ93UA?t=01h58m57s)



[wanted to push it down as far as we](https://youtu.be/pz1MYpZ93UA?t=01h59m03s)



[could through the library so for anybody](https://youtu.be/pz1MYpZ93UA?t=01h59m05s)



[who finds these interesting once again](https://youtu.be/pz1MYpZ93UA?t=01h59m08s)



[this is the the article that I was](https://youtu.be/pz1MYpZ93UA?t=01h59m10s)



[relying very heavily on from Steven](https://youtu.be/pz1MYpZ93UA?t=01h59m14s)



[again it's an old one but it's one of](https://youtu.be/pz1MYpZ93UA?t=01h59m19s)



[those concepts that I find that a lot of](https://youtu.be/pz1MYpZ93UA?t=01h59m21s)



[people don't necessarily spend the time](https://youtu.be/pz1MYpZ93UA?t=01h59m24s)



[to dive deep into the task parallel](https://youtu.be/pz1MYpZ93UA?t=01h59m25s)



[library for the async and await and I](https://youtu.be/pz1MYpZ93UA?t=01h59m28s)



[think it is very](https://youtu.be/pz1MYpZ93UA?t=01h59m30s)



[much a worthwhile endeavor to understand](https://youtu.be/pz1MYpZ93UA?t=01h59m31s)



[it cool all of the platform builds past](https://youtu.be/pz1MYpZ93UA?t=01h59m34s)



[so that all checks are done now we just](https://youtu.be/pz1MYpZ93UA?t=01h59m43s)



[have to wait for a review which may take](https://youtu.be/pz1MYpZ93UA?t=01h59m47s)



[a while I know that the John mentioned](https://youtu.be/pz1MYpZ93UA?t=01h59m50s)



[that he was going to have to be on break](https://youtu.be/pz1MYpZ93UA?t=01h59m53s)



[for a little bit from this so hopefully](https://youtu.be/pz1MYpZ93UA?t=01h59m56s)



[when he gets back it doesn't take him](https://youtu.be/pz1MYpZ93UA?t=01h59m58s)



[too long to get it reviewed and call out](https://youtu.be/pz1MYpZ93UA?t=02h00m00s)



[all of the mistakes that I made so with](https://youtu.be/pz1MYpZ93UA?t=02h00m02s)



[that I will sign off tell you all good](https://youtu.be/pz1MYpZ93UA?t=02h00m04s)



[night and happy coding](https://youtu.be/pz1MYpZ93UA?t=02h00m07s)



[you](https://youtu.be/pz1MYpZ93UA?t=02h00m17s)


